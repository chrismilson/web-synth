(this["webpackJsonpweb-synth"]=this["webpackJsonpweb-synth"]||[]).push([[0],{28:function(e,t,n){e.exports=n(59)},38:function(e,t,n){},39:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var r,a=n(0),o=n.n(a),c=n(14),l=n.n(c),u=n(5),i=n(21),E=n(24),s=n.n(E);!function(e){e.SET_VOLUME="SET_VOLUME",e.SET_VCO1_WAVE_SHAPE="SET_VCO1_WAVE_SHAPE",e.SET_VCO1_PULSE_WIDTH="SET_VCO1_PULSE_WIDTH",e.SET_VCO1_SCALE="SET_VCO1_SCALE",e.SET_VCO2_WAVE_SHAPE="SET_VCO2_WAVE_SHAPE",e.SET_VCO2_PITCH="SET_VCO1_PITCH",e.SET_VCO2_SCALE="SET_VCO2_SCALE",e.SET_VCO1_LEVEL="SET_VCO1_LEVEL",e.SET_VCO2_LEVEL="SET_VCO2_LEVEL",e.SET_PORTAMENTO="SET_PORTAMENTO",e.SET_MASTER_TUNE="SET_MASTER_TUNE",e.SET_FREQUENCY_MODULATOR_MODULATION_GENERATOR="SET_FREQUENCY_MODULATOR_MODULATION_GENERATOR",e.SET_FREQUENCY_MODULATOR_ENVELOPE_GENERATOR="SET_FREQUENCY_MODULATOR_ENVELOPE_GENERATOR",e.SET_HIGHPASS_CUTOFF="SET_HIGHPASS_CUTOFF",e.SET_HIGHPASS_PEAK="SET_HIGHPASS_PEAK",e.SET_HIGHPASS_MODULATOR_MODULATION_GENERATOR="SET_HIGHPASS_MODULATOR_MODULATION_GENERATOR",e.SET_HIGHPASS_MODULATOR_ENVELOPE_GENERATOR="SET_HIGHPASS_MODULATOR_ENVELOPE_GENERATOR",e.SET_LOWPASS_CUTOFF="SET_LOWPASS_CUTOFF",e.SET_LOWPASS_PEAK="SET_LOWPASS_PEAK",e.SET_LOWPASS_MODULATOR_MODULATION_GENERATOR="SET_LOWPASS_MODULATOR_MODULATION_GENERATOR",e.SET_LOWPASS_MODULATOR_ENVELOPE_GENERATOR="SET_LOWPASS_MODULATOR_ENVELOPE_GENERATOR",e.SET_MODULATION_GENERATOR_WAVE_FORM="SET_MODULATION_GENERATOR_WAVE_FORM",e.SET_MODULATION_GENERATOR_FREQUENCY="SET_MODULATION_GENERATOR_FREQUENCY",e.SET_ENVELOPE_GENERATOR_1_DELAY="SET_ENVELOPE_GENERATOR_1_DELAY",e.SET_ENVELOPE_GENERATOR_1_ATTACK="SET_ENVELOPE_GENERATOR_1_ATTACK",e.SET_ENVELOPE_GENERATOR_1_RELEASE="SET_ENVELOPE_GENERATOR_1_RELEASE",e.SET_ENVELOPE_GENERATOR_2_HOLD="SET_ENVELOPE_GENERATOR_2_HOLD",e.SET_ENVELOPE_GENERATOR_2_ATTACK="SET_ENVELOPE_GENERATOR_2_ATTACK",e.SET_ENVELOPE_GENERATOR_2_DECAY="SET_ENVELOPE_GENERATOR_2_DECAY",e.SET_ENVELOPE_GENERATOR_2_SUSTAIN="SET_ENVELOPE_GENERATOR_2_SUSTAIN",e.SET_ENVELOPE_GENERATOR_2_RELEASE="SET_ENVELOPE_GENERATOR_2_RELEASE",e.SET_KEYBOARD_OCTAVES="SET_KEYBOARD_OCTAVES",e.SET_KEY_DOWN="SET_KEY_DOWN",e.SET_KEY_UP="SET_KEY_UP",e.SET_KEYBOARD_BASS_NOTE="SET_KEYBOARD_BASS_NOTE"}(r||(r={}));var O,f,v=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0;return r.type===e?r.payload:n}};!function(e){e[e.TRIANGLE=0]="TRIANGLE",e[e.SAWTOOTH=1]="SAWTOOTH",e[e.SQUARE=2]="SQUARE",e[e.NOISE=3]="NOISE"}(O||(O={})),function(e){e[e.SAWTOOTH=0]="SAWTOOTH",e[e.SQUARE=1]="SQUARE",e[e.PULSE=2]="PULSE",e[e.RING=3]="RING"}(f||(f={}));var d,_,T=v(r.SET_VCO1_WAVE_SHAPE,O.SAWTOOTH),p=v(r.SET_VCO1_PULSE_WIDTH,.745),m=v(r.SET_VCO1_SCALE,1),S=Object(u.b)({waveShape:T,pulseWidth:p,scale:m}),A=v(r.SET_VCO2_WAVE_SHAPE,f.SAWTOOTH),L=v(r.SET_VCO2_PITCH,0),y=v(r.SET_VCO2_SCALE,0),b=Object(u.b)({waveShape:A,pitch:L,scale:y}),h=v(r.SET_VCO1_LEVEL,1),R=v(r.SET_VCO2_LEVEL,.5),N=Object(u.b)({vco1Level:h,vco2Level:R}),g=Object(u.b)({modulationGenerator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.SET_FREQUENCY_MODULATOR_MODULATION_GENERATOR:return t.payload;default:return e}},envelopeGenerator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.SET_FREQUENCY_MODULATOR_ENVELOPE_GENERATOR:return t.payload;default:return e}}}),G=v(r.SET_HIGHPASS_CUTOFF,0),j=v(r.SET_HIGHPASS_PEAK,0),C=v(r.SET_HIGHPASS_MODULATOR_MODULATION_GENERATOR,0),w=v(r.SET_HIGHPASS_MODULATOR_ENVELOPE_GENERATOR,0),P=Object(u.b)({modulationGenerator:C,envelopeGenerator:w}),k=Object(u.b)({cutoff:G,peak:j,modulator:P}),M=v(r.SET_LOWPASS_CUTOFF,1),V=v(r.SET_LOWPASS_PEAK,0),U=v(r.SET_LOWPASS_MODULATOR_MODULATION_GENERATOR,0),D=v(r.SET_LOWPASS_MODULATOR_ENVELOPE_GENERATOR,0),I=Object(u.b)({modulationGenerator:U,envelopeGenerator:D}),H=Object(u.b)({cutoff:M,peak:V,modulator:I}),W=v(r.SET_MODULATION_GENERATOR_WAVE_FORM,.5),F=v(r.SET_MODULATION_GENERATOR_FREQUENCY,5),x=Object(u.b)({waveForm:W,frequency:F}),q=v(r.SET_ENVELOPE_GENERATOR_1_DELAY,0),Y=v(r.SET_ENVELOPE_GENERATOR_1_ATTACK,0),K=v(r.SET_ENVELOPE_GENERATOR_1_RELEASE,0),Q=Object(u.b)({delay:q,attack:Y,release:K}),B=v(r.SET_ENVELOPE_GENERATOR_2_HOLD,0),X=v(r.SET_ENVELOPE_GENERATOR_2_ATTACK,0),J=v(r.SET_ENVELOPE_GENERATOR_2_DECAY,0),z=v(r.SET_ENVELOPE_GENERATOR_2_SUSTAIN,1),Z=v(r.SET_ENVELOPE_GENERATOR_2_RELEASE,0),$=Object(u.b)({hold:B,attack:X,decay:J,sustain:z,release:Z}),ee=n(9),te=n(8),ne={octaves:3,keys:Object(te.a)(Array(37)).fill(!1),bassNote:60},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.SET_KEYBOARD_OCTAVES:return Object(ee.a)(Object(ee.a)({},e),{},{octaves:t.payload,keys:Object(te.a)(Array(12*t.payload+1)).fill(!1)});case r.SET_KEY_DOWN:case r.SET_KEY_UP:var n=t.type===r.SET_KEY_DOWN,a=t.payload-e.bassNote;if(e.keys[a]!==n){var o=Object(te.a)(e.keys);return o[a]=n,Object(ee.a)(Object(ee.a)({},e),{},{keys:o})}return e;case r.SET_KEYBOARD_BASS_NOTE:return Object(ee.a)(Object(ee.a)({},e),{},{bassNote:t.payload});default:return e}},ae=v(r.SET_VOLUME,0),oe=v(r.SET_PORTAMENTO,0),ce=v(r.SET_MASTER_TUNE,0),le=Object(u.b)({volume:ae,vco1:S,vco2:b,vcoMixer:N,portamento:oe,masterTune:ce,frequencyModulator:g,highpass:k,lowpass:H,modulationGenerator:x,envelopeGenerator1:Q,envelopeGenerator2:$,keyboard:re}),ue=Object(i.a)({key:"web-synth",storage:s.a,blacklist:["volume","keyboard"]},le),ie=Object(u.c)(ue),Ee=Object(i.b)(ie),se=function(e,t){var n,r=function(){var r=e(ie.getState());r!==n&&t(n=r)},a=ie.subscribe(r);return r(),a},Oe=ie,fe=n(19),ve=n.n(fe),de=n(25),_e=n(1),Te=n(7),pe=n(2),me=n(3),Se=n(4),Ae=function(e){Object(pe.a)(n,e);var t=Object(me.a)(n);function n(){return Object(_e.a)(this,n),t.call(this,"Incorrect parameters on custom processor")}return n}(Object(Se.a)(Error)),Le=function(e){Object(pe.a)(n,e);var t=Object(me.a)(n);function n(e){var r;Object(_e.a)(this,n),(r=t.call(this,e,"pulse-processor")).pulseWidth=void 0,r.frequency=void 0;var a=r.parameters.get("pulseWidth"),o=r.parameters.get("frequency");if(void 0===a||void 0===o)throw new Ae;return r.pulseWidth=a,r.frequency=o,r}return n}(Object(Se.a)(AudioWorkletNode)),ye=function(e){Object(pe.a)(n,e);var t=Object(me.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{waveShape:function(e){return e.vco1.waveShape},pulseWidth:function(e){return e.vco1.pulseWidth},scale:function(e){return e.vco1.scale}};Object(_e.a)(this,n),(r=t.call(this,e)).frequency=void 0,r.pulse=void 0;var o=e.createOscillator(),c=e.createOscillator(),l=new Le(e),u=new AudioWorkletNode(e,"white-noise-processor"),i=e.createConstantSource(),E=e.createGain(),s=e.createGain(),f=e.createGain(),v=e.createGain(),d=e.createGain();return r.frequency=i.offset,r.pulse=l,i.offset.value=0,o.type="triangle",o.frequency.value=0,c.type="sawtooth",c.frequency.value=0,i.connect(E),E.connect(o.frequency),E.connect(c.frequency),E.connect(l.frequency),o.connect(s).connect(Object(Te.a)(r)),c.connect(f).connect(Object(Te.a)(r)),l.connect(v).connect(Object(Te.a)(r)),u.connect(d).connect(Object(Te.a)(r)),o.start(),c.start(),i.start(),se(a.waveShape,(function(e){s.gain.value=e===O.TRIANGLE?1:0,f.gain.value=e===O.SAWTOOTH?1:0,v.gain.value=e===O.SQUARE?1:0,d.gain.value=e===O.NOISE?1:0})),se(a.pulseWidth,(function(e){l.pulseWidth.value=e})),se(a.scale,(function(e){E.gain.value=Math.pow(2,e)})),r}return n}(Object(Se.a)(GainNode)),be=function(e){Object(pe.a)(n,e);var t=Object(me.a)(n);function n(e){return Object(_e.a)(this,n),t.call(this,e,"xor-processor",{numberOfInputs:2})}return n}(Object(Se.a)(AudioWorkletNode)),he=function(e){Object(pe.a)(n,e);var t=Object(me.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{waveShape:function(e){return e.vco2.waveShape},pitch:function(e){return e.vco2.pitch},scale:function(e){return e.vco2.scale}};Object(_e.a)(this,n),(r=t.call(this,e)).frequency=void 0,r.ring=void 0;var o=e.createOscillator(),c=new Le(e),l=new Le(e),u=new be(e),i=e.createConstantSource(),E=e.createGain(),s=e.createGain(),O=e.createGain(),v=e.createGain(),d=e.createGain(),_=e.createGain();return r.frequency=i.offset,r.ring=u,i.offset.value=0,o.type="sawtooth",o.frequency.value=0,c.pulseWidth.value=.5,c.frequency.value=0,l.pulseWidth.value=.75,l.frequency.value=0,i.connect(E).connect(s),s.connect(o.frequency),s.connect(c.frequency),s.connect(l.frequency),c.connect(u,0,1),o.connect(O).connect(Object(Te.a)(r)),c.connect(v).connect(Object(Te.a)(r)),l.connect(d).connect(Object(Te.a)(r)),u.connect(_).connect(Object(Te.a)(r)),o.start(),i.start(),se(a.waveShape,(function(e){O.gain.value=e===f.SAWTOOTH?1:0,v.gain.value=e===f.SQUARE?1:0,d.gain.value=e===f.PULSE?1:0,_.gain.value=e===f.RING?1:0})),se(a.pitch,(function(e){E.gain.value=Math.pow(2,e)})),se(a.scale,(function(e){s.gain.value=Math.pow(2,e)})),r}return n}(Object(Se.a)(GainNode)),Re=function(e){Object(pe.a)(n,e);var t=Object(me.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{volume:function(e){return e.volume}};return Object(_e.a)(this,n),r=t.call(this,e),se(a.volume,(function(e){r.gain.value=e})),r}return n}(Object(Se.a)(GainNode)),Ne=function(e){Object(pe.a)(n,e);var t=Object(me.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{vco1Level:function(e){return e.vcoMixer.vco1Level},vco2Level:function(e){return e.vcoMixer.vco2Level}};return Object(_e.a)(this,n),(r=t.call(this,e)).vco1in=void 0,r.vco2in=void 0,r.vco1in=new Re(e,{volume:a.vco1Level}),r.vco2in=new Re(e,{volume:a.vco2Level}),r.vco1in.connect(Object(Te.a)(r)),r.vco2in.connect(Object(Te.a)(r)),r}return n}(Object(Se.a)(GainNode)),ge=window.AudioContext||window.webkitAudioContext,Ge=function(e){Object(pe.a)(n,e);var t=Object(me.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{masterTune:function(e){return e.masterTune}};return Object(_e.a)(this,n),r=t.call(this,e),se(a.masterTune,(function(e){r.gain.value=Math.pow(2,e)})),r}return n}(Object(Se.a)(GainNode)),je=function(e){Object(pe.a)(n,e);var t=Object(me.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{portamento:function(e){return e.portamento}};Object(_e.a)(this,n),(r=t.call(this,e,"portamento-processor")).time=void 0;var o=r.parameters.get("time");if(void 0===o)throw new Ae;return r.time=o,se(a.portamento,(function(e){e*=.8,e+=.1;r.time.value=1-(Math.pow(5001,1-e)-1)/5e3})),r}return n}(Object(Se.a)(AudioWorkletNode)),Ce=function(e){Object(pe.a)(n,e);var t=Object(me.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{modulationGenerator:function(e){return e.frequencyModulator.modulationGenerator},envelopeGenerator:function(e){return e.frequencyModulator.envelopeGenerator}};Object(_e.a)(this,n),(r=t.call(this,e)).modulationGenerator=void 0,r.envelopeGenerator=void 0,r.gain.value=0,r.envelopeGenerator=e.createGain(),r.modulationGenerator=e.createGain();var o=e.createConstantSource(),c=e.createConstantSource();c.offset.value=1,o.start(),c.start();var l=e.createGain();return l.gain.value=0,r.modulationGenerator.connect(l),c.connect(l),r.envelopeGenerator.connect(l.gain),o.connect(l.gain),l.connect(r.gain),se(a.modulationGenerator,(function(e){r.modulationGenerator.gain.value=e})),se(a.envelopeGenerator,(function(e){r.envelopeGenerator.gain.value=e,o.offset.value=1-e})),r}return n}(Object(Se.a)(GainNode)),we=function(e){Object(pe.a)(n,e);var t=Object(me.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{cutoff:function(e){return e.highpass.cutoff},peak:function(e){return e.highpass.peak},modulationGenerator:function(e){return e.highpass.modulator.modulationGenerator},envelopeGenerator:function(e){return e.highpass.modulator.envelopeGenerator}};Object(_e.a)(this,n),(r=t.call(this,e)).cutoff=void 0,r.type="highpass",r.frequency.value=0,r.cutoff=new Ce(e,{modulationGenerator:a.modulationGenerator,envelopeGenerator:a.envelopeGenerator});var o=e.createConstantSource();return o.start(),o.connect(r.cutoff).connect(r.frequency),se(a.cutoff,(function(e){var t=1-(1-e)*(1-e);o.offset.value=Math.pow(14901,t)+100-1})),se(a.peak,(function(e){r.Q.value=Math.pow(41,e)+0-1})),r}return n}(Object(Se.a)(BiquadFilterNode)),Pe=function(e){Object(pe.a)(n,e);var t=Object(me.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{cutoff:function(e){return e.lowpass.cutoff},peak:function(e){return e.lowpass.peak},modulationGenerator:function(e){return e.lowpass.modulator.modulationGenerator},envelopeGenerator:function(e){return e.lowpass.modulator.envelopeGenerator}};Object(_e.a)(this,n),(r=t.call(this,e)).cutoff=void 0,r.type="lowpass",r.frequency.value=0,r.cutoff=new Ce(e,{modulationGenerator:a.modulationGenerator,envelopeGenerator:a.envelopeGenerator});var o=e.createConstantSource();return o.start(),o.connect(r.cutoff).connect(r.frequency),se(a.cutoff,(function(e){var t=1-(1-e)*(1-e);o.offset.value=Math.pow(14901,t)+100-1})),se(a.peak,(function(e){r.Q.value=Math.pow(41,e)+0-1})),r}return n}(Object(Se.a)(BiquadFilterNode)),ke=function(e){Object(pe.a)(n,e);var t=Object(me.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{waveForm:function(e){return e.modulationGenerator.waveForm},frequency:function(e){return e.modulationGenerator.frequency}};Object(_e.a)(this,n),(r=t.call(this,e,"modulation-generator-processor",{numberOfOutputs:2})).waveForm=void 0,r.frequency=void 0;var o=r.parameters.get("waveForm"),c=r.parameters.get("frequency");if(void 0===o||void 0===c)throw new Ae;return r.waveForm=o,r.frequency=c,se(a.waveForm,(function(e){r.waveForm.value=e})),se(a.frequency,(function(e){r.frequency.value=e})),r}return n}(Object(Se.a)(AudioWorkletNode)),Me=n(26),Ve=[1,16/15,9/8,1.2,5/4,4/3,25/18,1.5,1.6,5/3,1.8,15/8];(_=d||(d={}))[_.A=-3]="A",_[_.A_SHARP=-2]="A_SHARP",_[_.B_FLAT=-2]="B_FLAT",_[_.B=-1]="B",_[_.C=0]="C",_[_.C_SHARP=1]="C_SHARP",_[_.D_FLAT=1]="D_FLAT",_[_.D=2]="D",_[_.D_SHARP=3]="D_SHARP",_[_.E_FLAT=3]="E_FLAT",_[_.E=4]="E",_[_.F=5]="F",_[_.F_SHARP=6]="F_SHARP",_[_.G_FLAT=6]="G_FLAT",_[_.G=7]="G",_[_.G_SHARP=8]="G_SHARP",_[_.A_FLAT=8]="A_FLAT";var Ue=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ve,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.A;Object(_e.a)(this,e),this.baseOctave=void 0,this.key=void 0,this.key=r,this.baseOctave=n.map((function(e){return e*t}))}return Object(Me.a)(e,[{key:"getNote",value:function(e){var t=((e-=this.key)%12+12)%12,n=Math.floor(e/12);return this.baseOctave[t]*Math.pow(2,n-6)}}]),e}(),De=Object(te.a)(Array(12)).map((function(e,t){return Math.pow(2,t/12)})),Ie=function e(t){var n=this;Object(_e.a)(this,e),this.frequency=void 0,this.trigger=void 0,this.bassNote=void 0,this.frequency=t.createConstantSource(),this.trigger=t.createConstantSource(),this.bassNote=0,this.frequency.start(),this.trigger.start();var r=new Ue(440,De);se((function(e){return e.keyboard.bassNote}),(function(e){n.bassNote=e})),se((function(e){return e.keyboard.keys}),(function(e){var t=e.indexOf(!0);if(t>=0){var a=r.getNote(n.bassNote+t);n.frequency.offset.value=a,n.trigger.offset.value=1}else n.trigger.offset.value=0}))},He=function(e){Object(pe.a)(n,e);var t=Object(me.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{delay:function(e){return e.envelopeGenerator1.delay},attack:function(e){return e.envelopeGenerator1.attack},release:function(e){return e.envelopeGenerator1.release}};Object(_e.a)(this,n),(r=t.call(this,e,"dar-envelope-processor")).delay=void 0,r.attack=void 0,r.release=void 0;var o=r.parameters.get("delay"),c=r.parameters.get("attack"),l=r.parameters.get("release");if(void 0===o||void 0===c||void 0===l)throw new Ae;return r.delay=o,r.attack=c,r.release=l,se(a.delay,(function(e){r.delay.value=e})),se(a.attack,(function(e){r.attack.value=e})),se(a.release,(function(e){r.release.value=e})),r}return n}(Object(Se.a)(AudioWorkletNode)),We=function(e){Object(pe.a)(n,e);var t=Object(me.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{hold:function(e){return e.envelopeGenerator2.hold},attack:function(e){return e.envelopeGenerator2.attack},decay:function(e){return e.envelopeGenerator2.decay},sustain:function(e){return e.envelopeGenerator2.sustain},release:function(e){return e.envelopeGenerator2.release}};Object(_e.a)(this,n),(r=t.call(this,e,"hadsr-envelope-processor")).hold=void 0,r.attack=void 0,r.decay=void 0,r.sustain=void 0,r.release=void 0;var o=r.parameters.get("hold"),c=r.parameters.get("attack"),l=r.parameters.get("decay"),u=r.parameters.get("sustain"),i=r.parameters.get("release");if(void 0===o||void 0===c||void 0===l||void 0===u||void 0===i)throw new Ae;return r.hold=o,r.attack=c,r.decay=l,r.sustain=u,r.release=i,se(a.hold,(function(e){r.hold.value=e})),se(a.attack,(function(e){r.attack.value=e})),se(a.decay,(function(e){r.decay.value=e})),se(a.sustain,(function(e){r.sustain.value=e})),se(a.release,(function(e){r.release.value=e})),r}return n}(Object(Se.a)(AudioWorkletNode)),Fe=function(){var e=Object(de.a)(ve.a.mark((function e(){var t,n,r,a,o,c,l,u,i,E,s,O,f,v,d;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new ge,e.next=3,t.resume();case 3:if("running"===t.state){e.next=5;break}throw new Error("The audio context failed to start.");case 5:e.next=10;break;case 8:e.next=12;break;case 10:return e.next=12,t.audioWorklet.addModule("audio-processors.js");case 12:n=new Ie(t),r=new Ge(t),a=new je(t),o=new ke(t),c=new He(t),l=new We(t),u=new Ce(t),i=new ye(t),E=new he(t),s=new Ne(t),O=new we(t),f=new Pe(t),v=new Re(t),(d=t.createGain()).gain.value=0,n.trigger.connect(c),n.trigger.connect(l),n.frequency.connect(a).connect(r),r.connect(u),o.connect(u.modulationGenerator),c.connect(u.envelopeGenerator),u.connect(i.frequency),u.connect(E.frequency),o.connect(O.cutoff.modulationGenerator),o.connect(f.cutoff.modulationGenerator),l.connect(O.cutoff.envelopeGenerator),l.connect(f.cutoff.envelopeGenerator),i.pulse.connect(E.ring),i.connect(s.vco1in),E.connect(s.vco2in),l.connect(d.gain),s.connect(O).connect(f).connect(d).connect(v).connect(t.destination);case 44:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n(38);function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ye=o.a.createElement("path",{d:"M0,2 L1.5,0 L3,2",stroke:"var(--text-color)",strokeWidth:.3,strokeLinejoin:"round",strokeLinecap:"round",fill:"none"}),Ke=function(e){var t=e.svgRef,n=e.title,r=qe(e,["svgRef","title"]);return o.a.createElement("svg",xe({viewBox:"-0.15 -0.15 3.3 2.3",ref:t},r),n?o.a.createElement("title",null,n):null,Ye)},Qe=o.a.forwardRef((function(e,t){return o.a.createElement(Ke,xe({svgRef:t},e))}));n.p;function Be(){return(Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Je=o.a.createElement("path",{d:"M0,2 L0,0 L3,2",stroke:"var(--text-color)",strokeWidth:.3,strokeLinejoin:"round",strokeLinecap:"round",fill:"none"}),ze=function(e){var t=e.svgRef,n=e.title,r=Xe(e,["svgRef","title"]);return o.a.createElement("svg",Be({viewBox:"-0.15 -0.15 3.3 2.3",ref:t},r),n?o.a.createElement("title",null,n):null,Je)},Ze=o.a.forwardRef((function(e,t){return o.a.createElement(ze,Be({svgRef:t},e))}));n.p;function $e(){return($e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function et(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var tt=o.a.createElement("path",{d:"M0,2 L0,0 L1.5,0 L1.5,2 L3,2",stroke:"var(--text-color)",strokeWidth:.3,strokeLinejoin:"round",strokeLinecap:"round",fill:"none"}),nt=function(e){var t=e.svgRef,n=e.title,r=et(e,["svgRef","title"]);return o.a.createElement("svg",$e({viewBox:"-0.15 -0.15 3.3 2.3",ref:t},r),n?o.a.createElement("title",null,n):null,tt)},rt=o.a.forwardRef((function(e,t){return o.a.createElement(nt,$e({svgRef:t},e))}));n.p;function at(){return(at=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ot(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ct=o.a.createElement("path",{d:"M0,2 L0,0 L0.75,0 L0.75,2 L3,2",stroke:"var(--text-color)",strokeWidth:.3,strokeLinejoin:"round",strokeLinecap:"round",fill:"none"}),lt=function(e){var t=e.svgRef,n=e.title,r=ot(e,["svgRef","title"]);return o.a.createElement("svg",at({viewBox:"-0.15 -0.15 3.3 2.3",ref:t},r),n?o.a.createElement("title",null,n):null,ct)},ut=o.a.forwardRef((function(e,t){return o.a.createElement(lt,at({svgRef:t},e))}));n.p;function it(){return(it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Et(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var st=o.a.createElement("path",{d:"M0,6 L1,5 L2,8 L3,2 L4,10 L5,8 L6,10 L7,6 L8,7 L9,4 L10,6 L11,7 L12,4 L13,0 L14,11 L15,2 L16,6 L17,8 L18,6",stroke:"var(--text-color)",strokeWidth:1.8,strokeLinejoin:"round",strokeLinecap:"round",fill:"none"}),Ot=function(e){var t=e.svgRef,n=e.title,r=Et(e,["svgRef","title"]);return o.a.createElement("svg",it({viewBox:"-0.9 -0.9 19.8 13.8",ref:t},r),n?o.a.createElement("title",null,n):null,st)},ft=o.a.forwardRef((function(e,t){return o.a.createElement(Ot,it({svgRef:t},e))}));n.p;function vt(){return(vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var _t=o.a.createElement("path",{d:"M0,0.5 L1,0.5 M0.3,0.3 L0,0.5 L0.3,0.7 M0.7,0.3 L1,0.5 L0.7,0.7",stroke:"var(--text-color)",strokeWidth:.1,strokeLinecap:"round"}),Tt=function(e){var t=e.svgRef,n=e.title,r=dt(e,["svgRef","title"]);return o.a.createElement("svg",vt({viewBox:"-0.2 -0.2 1.4 1.4",ref:t},r),n?o.a.createElement("title",null,n):null,_t)},pt=o.a.forwardRef((function(e,t){return o.a.createElement(Tt,vt({svgRef:t},e))}));n.p,n(39);function mt(){return(mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function St(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var At,Lt=o.a.createElement("defs",null,o.a.createElement("mask",{id:"knob-top"},o.a.createElement("path",{d:"m1,0 L0.866,0.5 L0.5,0.866 L0,1 L-0.5,0.866 L-0.866,0.5 L-1,0 L-0.866,-0.5 L-0.5,-0.866 L0,-1 L0.5,-0.866 L0.866,-0.5 Z",fill:"white"}))),yt=o.a.createElement("circle",{cx:0,cy:0,r:1.15,fill:"var(--bottom-color)"}),bt=o.a.createElement("g",{mask:"url(#knob-top)"},o.a.createElement("circle",{cx:0,cy:0,r:1,fill:"var(--top-color)",stroke:"var(--top-edge-color)",strokeWidth:.4}),o.a.createElement("line",{x1:0,y1:0,x2:0,y2:-1,stroke:"var(--pointer-color)",strokeWidth:.1,strokeLinecap:"round"})),ht=function(e){var t=e.svgRef,n=e.title,r=St(e,["svgRef","title"]);return o.a.createElement("svg",mt({viewBox:"-1.15 -1.15 2.3 2.3",ref:t},r),n?o.a.createElement("title",null,n):null,Lt,yt,bt)},Rt=o.a.forwardRef((function(e,t){return o.a.createElement(ht,mt({svgRef:t},e))})),Nt=(n.p,n(13));!function(e){e[e.NONE=0]="NONE",e[e.TOUCH=1]="TOUCH",e[e.MOUSE=2]="MOUSE"}(At||(At={}));var gt=function(e){var t=e.step,n=e.min,r=e.max,c=e.value,l=e.handleChange,u=void 0===l?function(){}:l,i=1/(r-n),E=Object(a.useState)(c)[0],s=Object(a.useCallback)((function(e){if(e=Math.max(n,e),e=Math.min(r,e),"number"===typeof t){var a=Math.round((e-n)/t);e=n+a*t}return e}),[n,r,t]),O=Object(a.useState)(At.NONE),f=Object(Nt.a)(O,2),v=f[0],d=f[1],_=Object(a.useState)(0),T=Object(Nt.a)(_,2),p=T[0],m=T[1],S=Object(a.useState)([0,c]),A=Object(Nt.a)(S,2),L=A[0],y=A[1],b=Object(a.useCallback)((function(e){y([e,c])}),[c]),h=Object(a.useCallback)((function(e,t){var n=Object(Nt.a)(L,2),r=n[0],a=n[1];u(s(a+(r-e)/t))}),[L,s,u]),R=Object(a.useCallback)((function(){d(At.NONE)}),[]);Object(a.useEffect)((function(){if(v===At.MOUSE){var e=150*i,t=function(t){h(t.clientY,e)},n=function(){R()};return document.addEventListener("mousemove",t),document.addEventListener("mouseup",n),function(){document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)}}if(v===At.TOUCH){var r=150*i,a=function(e){for(var t=e.changedTouches,n=0;n<t.length;n++){var a=t.item(n);if(a&&a.identifier===p){h(a.clientY,r);break}}},o=function(){R()};return document.addEventListener("touchmove",a),document.addEventListener("touchend",o),function(){document.removeEventListener("touchmove",a),document.removeEventListener("touchend",o)}}}),[i,v,h,R,p]);var N=Object(a.useRef)(null);return Object(a.useEffect)((function(){if(N.current){var e=N.current,t=function(e){e.preventDefault();var t=e.deltaY;u(s(c+t/800))};return e.addEventListener("wheel",t,{passive:!1}),function(){e&&e.removeEventListener("wheel",t)}}}),[u,c,s]),o.a.createElement("div",{className:"FriendlyRange",onMouseDown:function(e){e.preventDefault(),d(At.MOUSE),b(e.clientY)},onTouchStart:function(e){var t=e.changedTouches.item(e.changedTouches.length-1);m(t.identifier),d(At.TOUCH),b(t.clientY)},onDoubleClick:function(e){e.preventDefault(),u(E)},ref:N})},Gt=function(e){var t=e.step,n=void 0===t?1:t,r=e.min,a=void 0===r?0:r,c=e.max,l=void 0===c?1:c,u=e.value,i=e.startAngle,E=void 0===i?-150:i,s=e.endAngle,O=void 0===s?150:s,f=e.handleChange,v=e.title,d=e.className,_=e.labels,T=void 0===_?[]:_,p=(u-a)/(l-a);return o.a.createElement("div",{className:d?"".concat(d," Knob"):"Knob"},o.a.createElement("div",{className:"selector"},o.a.createElement(Rt,{className:"visual",style:{transform:"rotate(".concat((O-E)*p+E,"deg)")}}),o.a.createElement(gt,{value:u,min:a,max:l,step:n,handleChange:f})),o.a.createElement("div",{className:"labels"},T.map((function(e,t){var n=-90+E+(O-E)*t/(T.length-1),r=Math.sin(n*Math.PI/180),a=Math.cos(n*Math.PI/180);return o.a.createElement("div",{key:t,className:"label"},o.a.createElement("div",{className:"tickmark",style:{transform:"translate(-50%, -50%) rotate(".concat(n-180,"deg)"),top:"".concat(50+54*r,"%"),left:"".concat(50+54*a,"%")}}),o.a.createElement("div",{className:"child",style:{top:"".concat(50+70*r,"%"),left:"".concat(50+70*a,"%")}},e))}))),v&&o.a.createElement("div",{className:"title"},v))},jt=n(6),Ct=r,wt=function(e){return{type:Ct.SET_VCO1_PULSE_WIDTH,payload:e}},Pt=function(e){return{type:Ct.SET_VCO1_LEVEL,payload:e}},kt=function(e){return{type:Ct.SET_VCO2_LEVEL,payload:e}},Mt=function(e){return{type:Ct.SET_PORTAMENTO,payload:e}},Vt=function(e){return{type:Ct.SET_MASTER_TUNE,payload:e}},Ut=function(e){return{type:Ct.SET_FREQUENCY_MODULATOR_MODULATION_GENERATOR,payload:e}},Dt=function(e){return{type:Ct.SET_FREQUENCY_MODULATOR_ENVELOPE_GENERATOR,payload:e}},It=function(e){return{type:Ct.SET_HIGHPASS_CUTOFF,payload:e}},Ht=function(e){return{type:Ct.SET_HIGHPASS_PEAK,payload:e}},Wt=function(e){return{type:Ct.SET_HIGHPASS_MODULATOR_MODULATION_GENERATOR,payload:e}},Ft=function(e){return{type:Ct.SET_HIGHPASS_MODULATOR_ENVELOPE_GENERATOR,payload:e}},xt=function(e){return{type:Ct.SET_LOWPASS_CUTOFF,payload:e}},qt=function(e){return{type:Ct.SET_LOWPASS_PEAK,payload:e}},Yt=function(e){return{type:Ct.SET_LOWPASS_MODULATOR_MODULATION_GENERATOR,payload:e}},Kt=function(e){return{type:Ct.SET_LOWPASS_MODULATOR_ENVELOPE_GENERATOR,payload:e}},Qt=function(e){return{type:Ct.SET_MODULATION_GENERATOR_WAVE_FORM,payload:e}},Bt=function(e){return{type:Ct.SET_MODULATION_GENERATOR_FREQUENCY,payload:e}},Xt=function(e){return{type:Ct.SET_ENVELOPE_GENERATOR_1_DELAY,payload:e}},Jt=function(e){return{type:Ct.SET_ENVELOPE_GENERATOR_1_ATTACK,payload:e}},zt=function(e){return{type:Ct.SET_ENVELOPE_GENERATOR_1_RELEASE,payload:e}},Zt=function(e){return{type:Ct.SET_ENVELOPE_GENERATOR_2_HOLD,payload:e}},$t=function(e){return{type:Ct.SET_ENVELOPE_GENERATOR_2_ATTACK,payload:e}},en=function(e){return{type:Ct.SET_ENVELOPE_GENERATOR_2_DECAY,payload:e}},tn=function(e){return{type:Ct.SET_ENVELOPE_GENERATOR_2_SUSTAIN,payload:e}},nn=function(e){return{type:Ct.SET_ENVELOPE_GENERATOR_2_RELEASE,payload:e}},rn=function(e){return{type:Ct.SET_KEY_DOWN,payload:e}},an=function(e){return{type:Ct.SET_KEY_UP,payload:e}},on=Object(jt.b)((function(e){return{value:e.vco1.waveShape,min:0,max:3,startAngle:-70,endAngle:70,title:"WAVE FORM",className:"waveShape",labels:[o.a.createElement(Qe,{key:"triangle"}),o.a.createElement(Ze,{key:"saw"}),o.a.createElement("div",{key:"square",className:"squareOrPulse",style:{display:"flex",height:"1em",width:"100%"}},o.a.createElement(rt,null),o.a.createElement(pt,null),o.a.createElement(ut,null)),o.a.createElement(ft,{key:"noise"})]}}),(function(e){return{handleChange:function(t){var n,r=[O.TRIANGLE,O.SAWTOOTH,O.SQUARE,O.NOISE];e((n=r[t],{type:Ct.SET_VCO1_WAVE_SHAPE,payload:n}))}}}))(Gt),cn=Object(jt.b)((function(e){return{value:e.vco1.scale,min:0,max:3,startAngle:-70,endAngle:70,title:"SCALE",className:"scale",labels:["32'","16'","8'","4'"]}}),(function(e){return{handleChange:function(t){var n;e((n=t,{type:Ct.SET_VCO1_SCALE,payload:n}))}}}))(Gt),ln=(n(44),Object(jt.b)((function(e,t){return{step:"any",min:t.min||0,max:t.max||1,value:t.selector(e),labels:t.labels||Object(te.a)(Array(11)).map((function(e,t){return t})),title:t.title,className:t.className}}),(function(e,t){return{handleChange:function(n){e(t.actionCreator(n))}}}))(Gt)),un=function(){return o.a.createElement("div",{className:"VCO1 module"},"VOLTAGE CONTROLLED OSCILLATOR 1",o.a.createElement(on,null),o.a.createElement(ln,{selector:function(e){return e.vco1.pulseWidth},actionCreator:wt,title:"PW",className:"pulseWidth",min:.5,max:.99,labels:Object(te.a)(Array(11)).map((function(e,t){return t-5})).map((function(e){return(e>0?"+":"")+e}))}),o.a.createElement(cn,null))},En=Object(jt.b)((function(e){return{value:e.vco2.waveShape,min:0,max:3,startAngle:-70,endAngle:70,title:"WAVE FORM",className:"waveShape",labels:[o.a.createElement(Ze,{key:"saw"}),o.a.createElement(rt,{key:"square"}),o.a.createElement(ut,{key:"pulse"}),"RING"]}}),(function(e){return{handleChange:function(t){var n,r=[f.SAWTOOTH,f.SQUARE,f.PULSE,f.RING];e((n=r[t],{type:Ct.SET_VCO2_WAVE_SHAPE,payload:n}))}}}))(Gt),sn=Object(jt.b)((function(e){return{value:e.vco2.pitch,min:-1,max:1,step:"any",title:"PITCH",className:"pitch",labels:Object(te.a)(Array(11)).map((function(e,t){return t-5})).map((function(e){return(e>0?"+":"")+e}))}}),(function(e){return{handleChange:function(t){var n;e((n=t,{type:Ct.SET_VCO2_PITCH,payload:n}))}}}))(Gt),On=Object(jt.b)((function(e){return{value:e.vco2.scale,min:0,max:3,startAngle:-70,endAngle:70,title:"SCALE",className:"scale",labels:["16'","8'","4'","2'"]}}),(function(e){return{handleChange:function(t){var n;e((n=t,{type:Ct.SET_VCO2_SCALE,payload:n}))}}}))(Gt),fn=(n(45),function(){return o.a.createElement("div",{className:"VCO2 module"},"VOLTAGE CONTROLLED OSCILLATOR 2",o.a.createElement(En,null),o.a.createElement(sn,null),o.a.createElement(On,null))}),vn=(n(46),n(47),function(e){var t=e.isOn,n=void 0===t||t;return o.a.createElement("div",{className:"LED ".concat(n?"on":"off")})}),dn=Object(jt.b)((function(e){return{value:e.volume}}),(function(e){return{handleChange:function(t){var n;e((n=t,{type:Ct.SET_VOLUME,payload:n}))}}}))((function(e){var t=e.value,n=e.handleChange;return o.a.createElement("div",{className:"Volume module"},"VOLUME",o.a.createElement("div",{className:"dials"},o.a.createElement(Gt,{value:t,startAngle:-180,endAngle:120,step:"any",handleChange:n,labels:["STANDBY",1,2,3,4,5,6,7,8,9,10]}),o.a.createElement("div",{className:"indicator"},o.a.createElement(vn,{isOn:t>0}),"ON")))})),_n=(n(48),function(){return o.a.createElement("div",{className:"VCOMixer module"},"VCO MIXER",o.a.createElement(ln,{selector:function(e){return e.vcoMixer.vco1Level},actionCreator:Pt,title:"VCO 1 LEVEL"}),o.a.createElement(ln,{selector:function(e){return e.vcoMixer.vco2Level},actionCreator:kt,title:"VCO 2 LEVEL"}))}),Tn=(n(49),function(){return o.a.createElement("div",{className:"Portamento module"},"PORTAMENTO",o.a.createElement(ln,{selector:function(e){return e.portamento},actionCreator:Mt,title:"TIME"}))}),pn=(n(50),function(){return o.a.createElement("div",{className:"MasterTune module"},"MASTER TUNE",o.a.createElement(ln,{selector:function(e){return e.masterTune},actionCreator:Vt,labels:Object(te.a)(Array(11)).map((function(e,t){return t-5})).map((function(e){return(e>0?"+":"")+e})),min:-1,max:1}))}),mn=(n(51),function(){return o.a.createElement("div",{className:"FrequencyModulator module"},"FREQUENCY MODULATION",o.a.createElement(ln,{selector:function(e){return e.frequencyModulator.modulationGenerator},actionCreator:Ut,title:"MG/T.EXT"}),o.a.createElement(ln,{selector:function(e){return e.frequencyModulator.envelopeGenerator},actionCreator:Dt,title:"EG1/EXT"}))}),Sn=(n(52),function(){return o.a.createElement("div",{className:"Highpass module"},"VOLTAGE CONTROLLED HIGHPASS FILTER",o.a.createElement(ln,{selector:function(e){return e.highpass.cutoff},actionCreator:It,title:"CUTOFF FREQUENCY"}),o.a.createElement(ln,{selector:function(e){return e.highpass.peak},actionCreator:Ht,title:"PEAK"}),"CUTOFF FREQUENCY MODULATION",o.a.createElement(ln,{selector:function(e){return e.highpass.modulator.modulationGenerator},actionCreator:Wt,title:"MG/T.EXT"}),o.a.createElement(ln,{selector:function(e){return e.highpass.modulator.envelopeGenerator},actionCreator:Ft,title:"EG2/EXT"}))}),An=(n(53),function(){return o.a.createElement("div",{className:"Lowpass module"},"VOLTAGE CONTROLLED LOWPASS FILTER",o.a.createElement(ln,{selector:function(e){return e.lowpass.cutoff},actionCreator:xt,title:"CUTOFF FREQUENCY"}),o.a.createElement(ln,{selector:function(e){return e.lowpass.peak},actionCreator:qt,title:"PEAK"}),"CUTOFF FREQUENCY MODULATION",o.a.createElement(ln,{selector:function(e){return e.lowpass.modulator.modulationGenerator},actionCreator:Yt,title:"MG/T.EXT"}),o.a.createElement(ln,{selector:function(e){return e.lowpass.modulator.envelopeGenerator},actionCreator:Kt,title:"EG2/EXT"}))});n(54);function Ln(){return(Ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function yn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var bn=o.a.createElement("path",{d:"M0,2 L0,0 L2.25,0 L2.25,2 L3,2",stroke:"var(--text-color)",strokeWidth:.3,strokeLinejoin:"round",strokeLinecap:"round",fill:"none"}),hn=function(e){var t=e.svgRef,n=e.title,r=yn(e,["svgRef","title"]);return o.a.createElement("svg",Ln({viewBox:"-0.15 -0.15 3.3 2.3",ref:t},r),n?o.a.createElement("title",null,n):null,bn)},Rn=o.a.forwardRef((function(e,t){return o.a.createElement(hn,Ln({svgRef:t},e))})),Nn=(n.p,function(){return o.a.createElement("div",{className:"ModulationGenerator module"},"MODULATION GENERATOR",o.a.createElement(ln,{selector:function(e){return e.modulationGenerator.waveForm},actionCreator:Qt,title:"WAVE FORM",className:"waveForm",labels:[o.a.createElement("div",{key:"low",className:"low"},o.a.createElement(Rn,null),o.a.createElement(Ze,null)),"","","","",o.a.createElement("div",{key:"mid",className:"mid"},o.a.createElement(rt,null),o.a.createElement(Qe,null)),"","","","",o.a.createElement("div",{key:"high",className:"high"},o.a.createElement(ut,null),o.a.createElement(Ze,null))]}),o.a.createElement(ln,{selector:function(e){return e.modulationGenerator.frequency},actionCreator:Bt,title:"FREQUENCY",min:.2,max:30}))}),gn=(n(55),function(){return o.a.createElement("div",{className:"EnvelopeGenerator1 module"},"ENVELOPE GENERATOR 1",o.a.createElement(ln,{selector:function(e){return e.envelopeGenerator1.delay},actionCreator:Xt,title:"DELAY TIME"}),o.a.createElement(ln,{selector:function(e){return e.envelopeGenerator1.attack},actionCreator:Jt,title:"ATTACK TIME"}),o.a.createElement(ln,{selector:function(e){return e.envelopeGenerator1.release},actionCreator:zt,title:"RELEASE TIME"}))}),Gn=(n(56),function(){return o.a.createElement("div",{className:"EnvelopeGenerator2 module"},"ENVELOPE GENERATOR 2",o.a.createElement(ln,{selector:function(e){return e.envelopeGenerator2.hold},actionCreator:Zt,title:"HOLD TIME"}),o.a.createElement(ln,{selector:function(e){return e.envelopeGenerator2.attack},actionCreator:$t,title:"ATTACK TIME"}),o.a.createElement(ln,{selector:function(e){return e.envelopeGenerator2.decay},actionCreator:en,title:"DECAY TIME"}),o.a.createElement(ln,{selector:function(e){return e.envelopeGenerator2.sustain},actionCreator:tn,title:"SUSTAIN LEVEL"}),o.a.createElement(ln,{selector:function(e){return e.envelopeGenerator2.release},actionCreator:nn,title:"RELEASE TIME"}))}),jn=function(e){var t=e.note,n=e.handler,r=e.isOn,c=Object(a.useMemo)((function(){return[1,3,6,8,10].includes(t%12)}),[t]),l=Object(a.useCallback)((function(){n(t,!0)}),[n,t]),u=Object(a.useCallback)((function(){n(t,!1)}),[n,t]),i=function(e){1&e.buttons&&l()};return o.a.createElement("div",{className:"Key ".concat(c?"black":"white"," ").concat(r?"down":"up"),onMouseDown:i,onMouseOver:i,onMouseUp:r?u:void 0,onMouseLeave:r?u:void 0,onTouchStart:l,onTouchEnd:r?u:void 0},t)},Cn=(n(57),{z:0,s:1,x:2,d:3,c:4,v:5,g:6,b:7,h:8,n:9,j:10,m:11,",":12,q:12,l:13,2:13,".":14,w:14,";":15,3:15,"/":16,e:16,r:17,5:18,t:19,6:20,y:21,7:22,u:23,i:24,9:25,o:26,0:27,p:28,"[":29,"=":30,"]":31}),wn=function(e){var t=e.keys,n=e.handler,r=void 0===n?function(){}:n,c=e.bassNote;return Object(a.useEffect)((function(){var e=function(e){e.key in Cn&&r(Cn[e.key]+c,!0)},t=function(e){e.key in Cn&&r(Cn[e.key]+c,!1)};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),function(){window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}}),[c,r]),o.a.createElement("div",{className:"Keyboard"},t.map((function(e,t){return o.a.createElement(jn,{key:t+c,note:t+c,handler:r,isOn:e})})))},Pn=Object(jt.b)((function(e){return{keys:e.keyboard.keys,bassNote:e.keyboard.bassNote}}),(function(e){return{handler:function(t,n){e((n?rn:an)(t))}}}))(wn);function kn(){return Object(a.useEffect)((function(){var e=!1,t=Oe.subscribe((function(){0===Oe.getState().volume||e||(e=!0,Fe().then((function(){console.log("Engine initialisation success."),t()})).catch((function(t){console.log("Engine initialisation failed."),console.error(t),e=!1})))}))}),[]),o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"keyboardDock"},o.a.createElement(Pn,null)),o.a.createElement(un,null),o.a.createElement(fn,null),o.a.createElement(_n,null),o.a.createElement(dn,null),o.a.createElement(Sn,null),o.a.createElement(An,null),o.a.createElement(Tn,null),o.a.createElement(pn,null),o.a.createElement(mn,null),o.a.createElement(Nn,null),o.a.createElement(gn,null),o.a.createElement(Gn,null))}var Mn=n(27);n(58);l.a.render(o.a.createElement(jt.a,{store:ie},o.a.createElement(Mn.a,{persistor:Ee},o.a.createElement(kn,null))),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.c50329a2.chunk.js.map