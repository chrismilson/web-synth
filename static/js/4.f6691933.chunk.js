(this["webpackJsonpweb-synth"]=this["webpackJsonpweb-synth"]||[]).push([[4],{65:function(e,t,n){"use strict";n.r(t);var a,o=n(61),r=n.n(o),c=n(63),u=n(53),i=n(57),l=n(54),v=n(55),s=n(56),f=n(11),d=n(4),b=function(e){Object(l.a)(n,e);var t=Object(v.a)(n);function n(){return Object(u.a)(this,n),t.call(this,"Incorrect parameters on custom processor")}return n}(Object(s.a)(Error)),h=function(e){Object(l.a)(n,e);var t=Object(v.a)(n);function n(e){var a;Object(u.a)(this,n),(a=t.call(this,e,"pulse-processor")).pulseWidth=void 0,a.frequency=void 0;var o=a.parameters.get("pulseWidth"),r=a.parameters.get("frequency");if(void 0===o||void 0===r)throw new b;return a.pulseWidth=o,a.frequency=r,a}return n}(Object(s.a)(AudioWorkletNode)),p=function(e){Object(l.a)(n,e);var t=Object(v.a)(n);function n(e){var a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{waveShape:function(e){return e.vco1.waveShape},pulseWidth:function(e){return e.vco1.pulseWidth},scale:function(e){return e.vco1.scale}};Object(u.a)(this,n),(a=t.call(this,e)).frequency=void 0,a.pulse=void 0;var r=e.createOscillator(),c=e.createOscillator(),l=new h(e),v=new AudioWorkletNode(e,"white-noise-processor"),s=e.createConstantSource(),b=e.createGain(),p=e.createGain(),O=e.createGain(),j=e.createGain(),w=e.createGain();return a.frequency=s.offset,a.pulse=l,s.offset.value=0,r.type="triangle",r.frequency.value=0,c.type="sawtooth",c.frequency.value=0,s.connect(b),b.connect(r.frequency),b.connect(c.frequency),b.connect(l.frequency),r.connect(p).connect(Object(i.a)(a)),c.connect(O).connect(Object(i.a)(a)),l.connect(j).connect(Object(i.a)(a)),v.connect(w).connect(Object(i.a)(a)),r.start(),c.start(),s.start(),Object(f.a)(o.waveShape,(function(e){p.gain.value=e===d.a.TRIANGLE?1:0,O.gain.value=e===d.a.SAWTOOTH?1:0,j.gain.value=e===d.a.SQUARE?1:0,w.gain.value=e===d.a.NOISE?1:0})),Object(f.a)(o.pulseWidth,(function(e){l.pulseWidth.value=e})),Object(f.a)(o.scale,(function(e){b.gain.value=Math.pow(2,e)})),a}return n}(Object(s.a)(GainNode)),O=function(e){Object(l.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(u.a)(this,n),t.call(this,e,"xor-processor",{numberOfInputs:2})}return n}(Object(s.a)(AudioWorkletNode)),j=function(e){Object(l.a)(n,e);var t=Object(v.a)(n);function n(e){var a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{waveShape:function(e){return e.vco2.waveShape},pitch:function(e){return e.vco2.pitch},scale:function(e){return e.vco2.scale}};Object(u.a)(this,n),(a=t.call(this,e)).frequency=void 0,a.ring=void 0;var r=e.createOscillator(),c=new h(e),l=new h(e),v=new O(e),s=e.createConstantSource(),b=e.createGain(),p=e.createGain(),j=e.createGain(),w=e.createGain(),g=e.createGain(),G=e.createGain();return a.frequency=s.offset,a.ring=v,s.offset.value=0,r.type="sawtooth",r.frequency.value=0,c.pulseWidth.value=.5,c.frequency.value=0,l.pulseWidth.value=.75,l.frequency.value=0,s.connect(b).connect(p),p.connect(r.frequency),p.connect(c.frequency),p.connect(l.frequency),c.connect(v,0,1),r.connect(j).connect(Object(i.a)(a)),c.connect(w).connect(Object(i.a)(a)),l.connect(g).connect(Object(i.a)(a)),v.connect(G).connect(Object(i.a)(a)),r.start(),s.start(),Object(f.a)(o.waveShape,(function(e){j.gain.value=e===d.b.SAWTOOTH?1:0,w.gain.value=e===d.b.SQUARE?1:0,g.gain.value=e===d.b.PULSE?1:0,G.gain.value=e===d.b.RING?1:0})),Object(f.a)(o.pitch,(function(e){b.gain.value=Math.pow(2,e)})),Object(f.a)(o.scale,(function(e){p.gain.value=Math.pow(2,e)})),a}return n}(Object(s.a)(GainNode)),w=function(e){Object(l.a)(n,e);var t=Object(v.a)(n);function n(e){var a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{volume:function(e){return e.volume}};return Object(u.a)(this,n),a=t.call(this,e),Object(f.a)(o.volume,(function(e){a.gain.value=e})),a}return n}(Object(s.a)(GainNode)),g=function(e){Object(l.a)(n,e);var t=Object(v.a)(n);function n(e){var a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{vco1Level:function(e){return e.vcoMixer.vco1Level},vco2Level:function(e){return e.vcoMixer.vco2Level}};return Object(u.a)(this,n),(a=t.call(this,e)).vco1in=void 0,a.vco2in=void 0,a.vco1in=new w(e,{volume:o.vco1Level}),a.vco2in=new w(e,{volume:o.vco2Level}),a.vco1in.connect(Object(i.a)(a)),a.vco2in.connect(Object(i.a)(a)),a}return n}(Object(s.a)(GainNode)),G=window.AudioContext||window.webkitAudioContext,m=function(e){Object(l.a)(n,e);var t=Object(v.a)(n);function n(e){var a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{masterTune:function(e){return e.masterTune}};return Object(u.a)(this,n),a=t.call(this,e),Object(f.a)(o.masterTune,(function(e){a.gain.value=Math.pow(2,e)})),a}return n}(Object(s.a)(GainNode)),y=function(e){Object(l.a)(n,e);var t=Object(v.a)(n);function n(e){var a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{portamento:function(e){return e.portamento}};Object(u.a)(this,n),(a=t.call(this,e,"portamento-processor")).time=void 0;var r=a.parameters.get("time");if(void 0===r)throw new b;return a.time=r,Object(f.a)(o.portamento,(function(e){e*=.8,e+=.1;a.time.value=1-(Math.pow(5001,1-e)-1)/5e3})),a}return n}(Object(s.a)(AudioWorkletNode)),k=function(e){Object(l.a)(n,e);var t=Object(v.a)(n);function n(e){var a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{modulationGenerator:function(e){return e.frequencyModulator.modulationGenerator},envelopeGenerator:function(e){return e.frequencyModulator.envelopeGenerator}};Object(u.a)(this,n),(a=t.call(this,e)).modulationGenerator=void 0,a.envelopeGenerator=void 0,a.gain.value=0,a.envelopeGenerator=e.createGain(),a.modulationGenerator=e.createGain();var r=e.createConstantSource(),c=e.createConstantSource();c.offset.value=1,r.start(),c.start();var i=e.createGain();return i.gain.value=0,a.modulationGenerator.connect(i),c.connect(i),a.envelopeGenerator.connect(i.gain),r.connect(i.gain),i.connect(a.gain),Object(f.a)(o.modulationGenerator,(function(e){a.modulationGenerator.gain.value=e})),Object(f.a)(o.envelopeGenerator,(function(e){a.envelopeGenerator.gain.value=e,r.offset.value=1-e})),a}return n}(Object(s.a)(GainNode)),A=function(e){Object(l.a)(n,e);var t=Object(v.a)(n);function n(e){var a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{cutoff:function(e){return e.highpass.cutoff},peak:function(e){return e.highpass.peak},modulationGenerator:function(e){return e.highpass.modulator.modulationGenerator},envelopeGenerator:function(e){return e.highpass.modulator.envelopeGenerator}};Object(u.a)(this,n),(a=t.call(this,e)).cutoff=void 0,a.type="highpass",a.frequency.value=0,a.cutoff=new k(e,{modulationGenerator:o.modulationGenerator,envelopeGenerator:o.envelopeGenerator});var r=e.createConstantSource();return r.start(),r.connect(a.cutoff).connect(a.frequency),Object(f.a)(o.cutoff,(function(e){var t=1-(1-e)*(1-e);r.offset.value=Math.pow(14901,t)+100-1})),Object(f.a)(o.peak,(function(e){a.Q.value=Math.pow(41,e)+0-1})),a}return n}(Object(s.a)(BiquadFilterNode)),q=function(e){Object(l.a)(n,e);var t=Object(v.a)(n);function n(e){var a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{cutoff:function(e){return e.lowpass.cutoff},peak:function(e){return e.lowpass.peak},modulationGenerator:function(e){return e.lowpass.modulator.modulationGenerator},envelopeGenerator:function(e){return e.lowpass.modulator.envelopeGenerator}};Object(u.a)(this,n),(a=t.call(this,e)).cutoff=void 0,a.type="lowpass",a.frequency.value=0,a.cutoff=new k(e,{modulationGenerator:o.modulationGenerator,envelopeGenerator:o.envelopeGenerator});var r=e.createConstantSource();return r.start(),r.connect(a.cutoff).connect(a.frequency),Object(f.a)(o.cutoff,(function(e){var t=1-(1-e)*(1-e);r.offset.value=Math.pow(14901,t)+100-1})),Object(f.a)(o.peak,(function(e){a.Q.value=Math.pow(41,e)+0-1})),a}return n}(Object(s.a)(BiquadFilterNode)),S=function(e){Object(l.a)(n,e);var t=Object(v.a)(n);function n(e){var a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{waveForm:function(e){return e.modulationGenerator.waveForm},frequency:function(e){return e.modulationGenerator.frequency}};Object(u.a)(this,n),(a=t.call(this,e,"modulation-generator-processor",{numberOfOutputs:2})).waveForm=void 0,a.frequency=void 0;var r=a.parameters.get("waveForm"),c=a.parameters.get("frequency");if(void 0===r||void 0===c)throw new b;return a.waveForm=r,a.frequency=c,Object(f.a)(o.waveForm,(function(e){a.waveForm.value=e})),Object(f.a)(o.frequency,(function(e){a.frequency.value=e})),a}return n}(Object(s.a)(AudioWorkletNode)),N=n(64),F=n(5),_=Object(F.a)(Array(12)).map((function(e,t){return Math.pow(2,t/12)}));!function(e){e[e.A=-3]="A",e[e.A_SHARP=-2]="A_SHARP",e[e.B_FLAT=-2]="B_FLAT",e[e.B=-1]="B",e[e.C=0]="C",e[e.C_SHARP=1]="C_SHARP",e[e.D_FLAT=1]="D_FLAT",e[e.D=2]="D",e[e.D_SHARP=3]="D_SHARP",e[e.E_FLAT=3]="E_FLAT",e[e.E=4]="E",e[e.F=5]="F",e[e.F_SHARP=6]="F_SHARP",e[e.G_FLAT=6]="G_FLAT",e[e.G=7]="G",e[e.G_SHARP=8]="G_SHARP",e[e.A_FLAT=8]="A_FLAT"}(a||(a={}));var T=function(){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.A;Object(u.a)(this,e),this.baseOctave=void 0,this.key=void 0,this.key=o,this.baseOctave=n.map((function(e){return e*t}))}return Object(N.a)(e,[{key:"getNote",value:function(e){var t=((e-=this.key)%12+12)%12,n=Math.floor(e/12);return this.baseOctave[t]*Math.pow(2,n-6)}}]),e}(),W=function e(t){var n=this;Object(u.a)(this,e),this.frequency=void 0,this.trigger=void 0,this.bassNote=void 0,this.frequency=t.createConstantSource(),this.trigger=t.createConstantSource(),this.bassNote=0,this.frequency.start(),this.trigger.start();var a=new T(440,_);Object(f.a)((function(e){return e.keyboard.bassNote}),(function(e){n.bassNote=e})),Object(f.a)((function(e){return e.keyboard.keys}),(function(e){var t=e.indexOf(!0);if(t>=0){var o=a.getNote(n.bassNote+t);n.frequency.offset.value=o,n.trigger.offset.value=1}else n.trigger.offset.value=0}))},L=function(e){Object(l.a)(n,e);var t=Object(v.a)(n);function n(e){var a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{delay:function(e){return e.envelopeGenerator1.delay},attack:function(e){return e.envelopeGenerator1.attack},release:function(e){return e.envelopeGenerator1.release}};Object(u.a)(this,n),(a=t.call(this,e,"dar-envelope-processor")).delay=void 0,a.attack=void 0,a.release=void 0;var r=a.parameters.get("delay"),c=a.parameters.get("attack"),i=a.parameters.get("release");if(void 0===r||void 0===c||void 0===i)throw new b;return a.delay=r,a.attack=c,a.release=i,Object(f.a)(o.delay,(function(e){a.delay.value=e})),Object(f.a)(o.attack,(function(e){a.attack.value=e})),Object(f.a)(o.release,(function(e){a.release.value=e})),a}return n}(Object(s.a)(AudioWorkletNode)),M=function(e){Object(l.a)(n,e);var t=Object(v.a)(n);function n(e){var a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{hold:function(e){return e.envelopeGenerator2.hold},attack:function(e){return e.envelopeGenerator2.attack},decay:function(e){return e.envelopeGenerator2.decay},sustain:function(e){return e.envelopeGenerator2.sustain},release:function(e){return e.envelopeGenerator2.release}};Object(u.a)(this,n),(a=t.call(this,e,"hadsr-envelope-processor")).hold=void 0,a.attack=void 0,a.decay=void 0,a.sustain=void 0,a.release=void 0;var r=a.parameters.get("hold"),c=a.parameters.get("attack"),i=a.parameters.get("decay"),l=a.parameters.get("sustain"),v=a.parameters.get("release");if(void 0===r||void 0===c||void 0===i||void 0===l||void 0===v)throw new b;return a.hold=r,a.attack=c,a.decay=i,a.sustain=l,a.release=v,Object(f.a)(o.hold,(function(e){a.hold.value=e})),Object(f.a)(o.attack,(function(e){a.attack.value=e})),Object(f.a)(o.decay,(function(e){a.decay.value=e})),Object(f.a)(o.sustain,(function(e){a.sustain.value=e})),Object(f.a)(o.release,(function(e){a.release.value=e})),a}return n}(Object(s.a)(AudioWorkletNode)),C=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n,a,o,c,u,i,l,v,s,f,d,b,h,O;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new G,e.next=3,t.resume();case 3:if("running"===t.state){e.next=5;break}throw new Error("The audio context failed to start.");case 5:e.next=10;break;case 8:e.next=12;break;case 10:return e.next=12,t.audioWorklet.addModule("audio-processors.js");case 12:n=new W(t),a=new m(t),o=new y(t),c=new S(t),u=new L(t),i=new M(t),l=new k(t),v=new p(t),s=new j(t),f=new g(t),d=new A(t),b=new q(t),h=new w(t),(O=t.createGain()).gain.value=0,n.trigger.connect(u),n.trigger.connect(i),n.frequency.connect(o).connect(a),a.connect(l),c.connect(l.modulationGenerator),u.connect(l.envelopeGenerator),l.connect(v.frequency),l.connect(s.frequency),c.connect(d.cutoff.modulationGenerator),c.connect(b.cutoff.modulationGenerator),i.connect(d.cutoff.envelopeGenerator),i.connect(b.cutoff.envelopeGenerator),v.pulse.connect(s.ring),v.connect(f.vco1in),s.connect(f.vco2in),i.connect(O.gain),f.connect(d).connect(b).connect(O).connect(h).connect(t.destination);case 44:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.default=C}}]);
//# sourceMappingURL=4.f6691933.chunk.js.map