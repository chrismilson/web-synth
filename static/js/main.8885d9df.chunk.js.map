{"version":3,"sources":["ui/components/Landing/how-to-knob.gif","ui/icons/wave-shapes/triangle.svg","ui/icons/wave-shapes/saw.svg","ui/icons/wave-shapes/square.svg","ui/icons/wave-shapes/short-pulse.svg","ui/icons/wave-shapes/noise.svg","ui/icons/arrows.svg","ui/icons/knob.svg","ui/components/FriendlyRange.tsx","state/types/actions.ts","ui/components/Knob/index.tsx","state/actions.ts","state/types/state.ts","ui/containers/VCO1/WaveShape.tsx","ui/containers/VCO1/Scale.tsx","ui/containers/common/ValueKnob.ts","ui/containers/VCO1/index.tsx","ui/containers/VCO2/WaveShape.tsx","ui/containers/VCO2/Pitch.tsx","ui/containers/VCO2/Scale.tsx","ui/containers/VCO2/index.tsx","ui/components/LED/index.tsx","ui/containers/Volume/index.tsx","ui/containers/VCOMixer/index.tsx","ui/containers/Portamento/index.tsx","ui/containers/MasterTune/index.tsx","ui/containers/FrequencyModulator/index.tsx","ui/containers/Highpass/index.tsx","ui/containers/Lowpass/index.tsx","ui/icons/wave-shapes/long-pulse.svg","tuning/index.ts","ui/containers/ModulationGenerator/index.tsx","ui/containers/EnvelopeGenerator1/index.tsx","ui/containers/EnvelopeGenerator2/index.tsx","ui/components/Keyboard/Key.tsx","ui/components/Keyboard/index.tsx","ui/containers/SynthKeys/index.tsx","state/reducers/common.ts","state/reducers/vco1.ts","state/reducers/vco2.ts","state/reducers/vcoMixer.ts","state/reducers/frequencyModulator.ts","state/reducers/highpass.ts","state/reducers/lowpass.ts","state/reducers/modulationGenerator.ts","state/reducers/envelopeGenerator1.ts","state/reducers/envelopeGenerator2.ts","state/reducers/keyboard.ts","state/reducers/index.ts","state/store.ts","engine/custom-nodes/common.ts","engine/custom-nodes/PulseOscillatorNode.ts","engine/custom-nodes/VCO1Node.ts","engine/custom-nodes/RingOscillatorNode.ts","engine/custom-nodes/VCO2Node.ts","engine/custom-nodes/VolumeNode.ts","engine/custom-nodes/VCOMixerNode.ts","engine/audioContext.js","engine/custom-nodes/MasterTuneNode.ts","engine/custom-nodes/PortamentoNode.ts","engine/custom-nodes/FrequencyModulatorNode.ts","engine/custom-nodes/HighpassNode.ts","engine/custom-nodes/LowpassNode.ts","engine/custom-nodes/ModulationGeneratorNode.ts","tuning/references/equal-temper.ts","ui/components/Landing/Landing.tsx","engine/custom-nodes/KeyboardNode.ts","engine/custom-nodes/DAREnvelopeNode.ts","engine/custom-nodes/HADSREnvelopeNode.ts","engine/index.ts","ui/containers/Initialise/Initialise.ts","ui/index.tsx","index.tsx"],"names":["module","exports","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","stroke","strokeWidth","strokeLinejoin","strokeLinecap","fill","_ref","svgRef","title","props","viewBox","ref","ForwardRef","forwardRef","DragStatus","id","_ref3","cx","cy","r","_ref4","mask","x1","y1","x2","y2","ActionType","FriendlyRange","step","min","max","value","handleChange","resistance","defaultValue","useState","validate","useCallback","Math","targetStep","round","NONE","dragStatus","setDragStatus","identifier","setIdentifier","dragInitials","setDragInitials","startDrag","yPos","updateDrag","initialY","initialValue","endDrag","useEffect","MOUSE","mouseResistance","onMouseMove","e","clientY","onMouseUp","document","addEventListener","removeEventListener","TOUCH","touchResistance","onTouchMove","touches","changedTouches","touch","item","onTouchEnd","useRef","current","elem","onWheel","preventDefault","change","deltaY","passive","className","onMouseDown","onTouchStart","onDoubleClick","Knob","startAngle","endAngle","labels","normalised","style","transform","map","label","angle","dy","sin","PI","dx","cos","top","left","VCO1WaveShape","VCO2WaveShape","actions","setVCO1PulseWidth","pulseWidth","type","SET_VCO1_PULSE_WIDTH","payload","setVCO1Level","level","SET_VCO1_LEVEL","setVCO2Level","SET_VCO2_LEVEL","setPortamento","port","SET_PORTAMENTO","setMasterTune","tune","SET_MASTER_TUNE","setFrequencyModulatorModulationGenerator","SET_FREQUENCY_MODULATOR_MODULATION_GENERATOR","setFrequencyModulatorEnvelopeGenerator","SET_FREQUENCY_MODULATOR_ENVELOPE_GENERATOR","setHighpassCutoff","frequency","SET_HIGHPASS_CUTOFF","setHighpassPeak","q","SET_HIGHPASS_PEAK","setHighpassModulatorModulationGenerator","SET_HIGHPASS_MODULATOR_MODULATION_GENERATOR","setHighpassModulatorEnvelopeGenerator","SET_HIGHPASS_MODULATOR_ENVELOPE_GENERATOR","setLowpassCutoff","SET_LOWPASS_CUTOFF","setLowpassPeak","SET_LOWPASS_PEAK","setLowpassModulatorModulationGenerator","SET_LOWPASS_MODULATOR_MODULATION_GENERATOR","setLowpassModulatorEnvelopeGenerator","SET_LOWPASS_MODULATOR_ENVELOPE_GENERATOR","setModulationGeneratorWaveForm","form","SET_MODULATION_GENERATOR_WAVE_FORM","setModulationGeneratorFrequency","SET_MODULATION_GENERATOR_FREQUENCY","setEnvelopeGenerator1Delay","time","SET_ENVELOPE_GENERATOR_1_DELAY","setEnvelopeGenerator1Attack","SET_ENVELOPE_GENERATOR_1_ATTACK","setEnvelopeGenerator1Release","SET_ENVELOPE_GENERATOR_1_RELEASE","setEnvelopeGenerator2Hold","SET_ENVELOPE_GENERATOR_2_HOLD","setEnvelopeGenerator2Attack","SET_ENVELOPE_GENERATOR_2_ATTACK","setEnvelopeGenerator2Decay","SET_ENVELOPE_GENERATOR_2_DECAY","setEnvelopeGenerator2Sustain","SET_ENVELOPE_GENERATOR_2_SUSTAIN","setEnvelopeGenerator2Release","SET_ENVELOPE_GENERATOR_2_RELEASE","setKeyDown","note","SET_KEY_DOWN","setKeyUp","SET_KEY_UP","connect","state","vco1","waveShape","display","height","width","dispatch","shape","shapes","TRIANGLE","SAWTOOTH","SQUARE","NOISE","SET_VCO1_WAVE_SHAPE","scale","SET_VCO1_SCALE","ownProps","selector","Array","_","actionCreator","VCO1","WaveShape","ValueKnob","Scale","vco2","PULSE","RING","SET_VCO2_WAVE_SHAPE","pitch","v","SET_VCO2_PITCH","SET_VCO2_SCALE","VCO2","Pitch","LED","isOn","volume","SET_VOLUME","VCOMixer","vcoMixer","vco1Level","vco2Level","Portamento","portamento","MasterTune","masterTune","FrequencyModulator","frequencyModulator","modulationGenerator","envelopeGenerator","Highpass","highpass","cutoff","peak","modulator","Lowpass","lowpass","Key","ModulationGenerator","waveForm","EnvelopeGenerator1","envelopeGenerator1","delay","attack","release","EnvelopeGenerator2","envelopeGenerator2","hold","decay","sustain","handler","isBlack","useMemo","includes","start","end","mouseStart","buttons","onMouseOver","undefined","onMouseLeave","notesByKey","z","s","x","c","g","b","h","n","j","m","l","w","t","y","u","o","p","Keyboard","bassNote","onKeyDown","onKeyUp","window","on","idx","keyboard","getSetter","targetActionType","initial","action","combineReducers","defaultKeyboardState","octaves","keyboardReducer","SET_KEYBOARD_OCTAVES","SET_KEYBOARD_BASS_NOTE","reducer","persistReducer","storage","blacklist","rootReducer","store","createStore","persistor","persistStore","observeStore","select","onChange","currentState","newState","getState","unsubscribe","subscribe","ParamaterError","Error","PulseOscillatorNode","context","parameters","get","AudioWorkletNode","VCO1Node","selectors","pulse","triangle","createOscillator","saw","noise","createConstantSource","createGain","triangleLevel","sawLevel","pulseLevel","noiseLevel","offset","gain","pw","octave","pow","GainNode","RingOscillatorNode","numberOfInputs","VCO2Node","ring","square","squareLevel","ringLevel","VolumeNode","VCOMixerNode","vco1in","vco2in","AudioContext","webkitAudioContext","MasterTuneNode","PortamentoNode","slope","FrequencyModulatorNode","egOffset","mgOffset","multiplier","HighpassNode","frequencyIn","Q","BiquadFilterNode","LowpassNode","ModulationGeneratorNode","numberOfOutputs","toCheck","TwelveTone","fundamental","reference","A","baseOctave","ratio","floor","KeyboardNode","trigger","equalTemper","targetFreq","getNote","DAREnvelopeNode","HADSREnvelopeNode","init","a","resume","audioWorklet","addModule","vca","destination","isMobile","navigator","userAgent","vendor","test","substr","Landing","handleStart","alt","src","howToKnob","onClick","onInitialise","initEngine","then","App","initialised","setInitialised","Initialise","SynthKeys","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.8885d9df.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/how-to-knob.31fa7cf5.gif\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0,2 L1.5,0 L3,2\",\n  stroke: \"var(--text-color)\",\n  strokeWidth: 0.3,\n  strokeLinejoin: \"round\",\n  strokeLinecap: \"round\",\n  fill: \"none\"\n});\n\nvar SvgTriangle = function SvgTriangle(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"-0.15 -0.15 3.3 2.3\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgTriangle, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/triangle.e3604168.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0,2 L0,0 L3,2\",\n  stroke: \"var(--text-color)\",\n  strokeWidth: 0.3,\n  strokeLinejoin: \"round\",\n  strokeLinecap: \"round\",\n  fill: \"none\"\n});\n\nvar SvgSaw = function SvgSaw(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"-0.15 -0.15 3.3 2.3\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSaw, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/saw.881ed6f4.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0,2 L0,0 L1.5,0 L1.5,2 L3,2\",\n  stroke: \"var(--text-color)\",\n  strokeWidth: 0.3,\n  strokeLinejoin: \"round\",\n  strokeLinecap: \"round\",\n  fill: \"none\"\n});\n\nvar SvgSquare = function SvgSquare(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"-0.15 -0.15 3.3 2.3\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSquare, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/square.abbd3088.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0,2 L0,0 L0.75,0 L0.75,2 L3,2\",\n  stroke: \"var(--text-color)\",\n  strokeWidth: 0.3,\n  strokeLinejoin: \"round\",\n  strokeLinecap: \"round\",\n  fill: \"none\"\n});\n\nvar SvgShortPulse = function SvgShortPulse(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"-0.15 -0.15 3.3 2.3\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgShortPulse, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/short-pulse.c4a15544.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0,6 L1,5 L2,8 L3,2 L4,10 L5,8 L6,10 L7,6 L8,7 L9,4 L10,6 L11,7 L12,4 L13,0 L14,11 L15,2 L16,6 L17,8 L18,6\",\n  stroke: \"var(--text-color)\",\n  strokeWidth: 1.8,\n  strokeLinejoin: \"round\",\n  strokeLinecap: \"round\",\n  fill: \"none\"\n});\n\nvar SvgNoise = function SvgNoise(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"-0.9 -0.9 19.8 13.8\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgNoise, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/noise.a25555f6.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0,0.5 L1,0.5 M0.3,0.3 L0,0.5 L0.3,0.7 M0.7,0.3 L1,0.5 L0.7,0.7\",\n  stroke: \"var(--text-color)\",\n  strokeWidth: 0.1,\n  strokeLinecap: \"round\"\n});\n\nvar SvgArrows = function SvgArrows(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"-0.2 -0.2 1.4 1.4\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrows, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrows.a1879888.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"mask\", {\n  id: \"knob-top\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m1,0 L0.866,0.5 L0.5,0.866 L0,1 L-0.5,0.866 L-0.866,0.5 L-1,0 L-0.866,-0.5 L-0.5,-0.866 L0,-1 L0.5,-0.866 L0.866,-0.5 Z\",\n  fill: \"white\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 0,\n  cy: 0,\n  r: 1.15,\n  fill: \"var(--bottom-color)\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", {\n  mask: \"url(#knob-top)\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 0,\n  cy: 0,\n  r: 1,\n  fill: \"var(--top-color)\",\n  stroke: \"var(--top-edge-color)\",\n  strokeWidth: 0.4\n}), /*#__PURE__*/React.createElement(\"line\", {\n  x1: 0,\n  y1: 0,\n  x2: 0,\n  y2: -1,\n  stroke: \"var(--pointer-color)\",\n  strokeWidth: 0.1,\n  strokeLinecap: \"round\"\n}));\n\nvar SvgKnob = function SvgKnob(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"-1.15 -1.15 2.3 2.3\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgKnob, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/knob.13f88f3c.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect, useCallback, useRef } from 'react'\n\nexport interface FriendlyRangeProps {\n  step: number | string\n  min: number\n  max: number\n  value: number\n  handleChange?: (newValue: number) => void\n}\n\nenum DragStatus {\n  NONE,\n  TOUCH,\n  MOUSE\n}\n\nconst FriendlyRange: React.FC<FriendlyRangeProps> = ({\n  step,\n  min,\n  max,\n  value,\n  handleChange = () => void 0\n}) => {\n  const resistance = 1 / (max - min)\n  const defaultValue = useState(value)[0]\n\n  const validate = useCallback(\n    value => {\n      value = Math.max(min, value)\n      value = Math.min(max, value)\n\n      if (typeof step === 'number') {\n        const targetStep = Math.round((value - min) / step)\n        value = min + targetStep * step\n      }\n      return value\n    },\n    [min, max, step]\n  )\n\n  const [dragStatus, setDragStatus] = useState(DragStatus.NONE)\n  const [identifier, setIdentifier] = useState(0)\n  const [dragInitials, setDragInitials] = useState([0, value])\n\n  const startDrag = useCallback(\n    (yPos: number) => {\n      setDragInitials([yPos, value])\n    },\n    [value]\n  )\n\n  const updateDrag = useCallback(\n    (yPos: number, resistance: number) => {\n      const [initialY, initialValue] = dragInitials\n      handleChange(validate(initialValue + (initialY - yPos) / resistance))\n    },\n    [dragInitials, validate, handleChange]\n  )\n\n  const endDrag = useCallback(() => {\n    setDragStatus(DragStatus.NONE)\n  }, [])\n\n  // we should connect the move and release listeners to the document so the\n  // user can drag outside the knob.\n  useEffect(() => {\n    if (dragStatus === DragStatus.MOUSE) {\n      const mouseResistance = resistance * 150\n\n      const onMouseMove = (e: MouseEvent) => {\n        updateDrag(e.clientY, mouseResistance)\n      }\n\n      const onMouseUp = () => {\n        endDrag()\n      }\n\n      document.addEventListener('mousemove', onMouseMove)\n      document.addEventListener('mouseup', onMouseUp)\n\n      return () => {\n        document.removeEventListener('mousemove', onMouseMove)\n        document.removeEventListener('mouseup', onMouseUp)\n      }\n    }\n    if (dragStatus === DragStatus.TOUCH) {\n      const touchResistance = resistance * 150\n\n      const onTouchMove = (e: TouchEvent) => {\n        const touches = e.changedTouches\n\n        for (let i = 0; i < touches.length; i++) {\n          const touch = touches.item(i)\n          if (touch && touch.identifier === identifier) {\n            updateDrag(touch.clientY, touchResistance)\n            break\n          }\n        }\n      }\n\n      const onTouchEnd = () => {\n        endDrag()\n      }\n\n      document.addEventListener('touchmove', onTouchMove)\n      document.addEventListener('touchend', onTouchEnd)\n\n      return () => {\n        document.removeEventListener('touchmove', onTouchMove)\n        document.removeEventListener('touchend', onTouchEnd)\n      }\n    }\n  }, [resistance, dragStatus, updateDrag, endDrag, identifier])\n\n  // There is currently an issue with react and chrome and the default\n  // passiveness of wheel listeners.\n  const ref = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    if (ref.current) {\n      const elem = ref.current\n\n      const onWheel = (e: WheelEvent) => {\n        e.preventDefault()\n\n        const change = e.deltaY\n\n        handleChange(validate(value + change / 800))\n      }\n\n      elem.addEventListener('wheel', onWheel, { passive: false })\n\n      return () => {\n        if (elem) {\n          elem.removeEventListener('wheel', onWheel)\n        }\n      }\n    }\n  }, [handleChange, value, validate])\n\n  return (\n    <div\n      className=\"FriendlyRange\"\n      onMouseDown={e => {\n        e.preventDefault()\n        setDragStatus(DragStatus.MOUSE)\n        startDrag(e.clientY)\n      }}\n      onTouchStart={e => {\n        const touch = e.changedTouches.item(e.changedTouches.length - 1)\n        setIdentifier(touch.identifier)\n        setDragStatus(DragStatus.TOUCH)\n        startDrag(touch.clientY)\n      }}\n      onDoubleClick={e => {\n        e.preventDefault()\n\n        handleChange(defaultValue)\n      }}\n      ref={ref}\n    />\n  )\n}\n\nexport default FriendlyRange\n","import { VCO1WaveShape, VCO2WaveShape } from './state'\n\nexport enum ActionType {\n  SET_VOLUME = 'SET_VOLUME',\n  SET_VCO1_WAVE_SHAPE = 'SET_VCO1_WAVE_SHAPE',\n  SET_VCO1_PULSE_WIDTH = 'SET_VCO1_PULSE_WIDTH',\n  SET_VCO1_SCALE = 'SET_VCO1_SCALE',\n  SET_VCO2_WAVE_SHAPE = 'SET_VCO2_WAVE_SHAPE',\n  SET_VCO2_PITCH = 'SET_VCO1_PITCH',\n  SET_VCO2_SCALE = 'SET_VCO2_SCALE',\n  SET_VCO1_LEVEL = 'SET_VCO1_LEVEL',\n  SET_VCO2_LEVEL = 'SET_VCO2_LEVEL',\n  SET_PORTAMENTO = 'SET_PORTAMENTO',\n  SET_MASTER_TUNE = 'SET_MASTER_TUNE',\n  SET_FREQUENCY_MODULATOR_MODULATION_GENERATOR = 'SET_FREQUENCY_MODULATOR_MODULATION_GENERATOR',\n  SET_FREQUENCY_MODULATOR_ENVELOPE_GENERATOR = 'SET_FREQUENCY_MODULATOR_ENVELOPE_GENERATOR',\n  SET_HIGHPASS_CUTOFF = 'SET_HIGHPASS_CUTOFF',\n  SET_HIGHPASS_PEAK = 'SET_HIGHPASS_PEAK',\n  SET_HIGHPASS_MODULATOR_MODULATION_GENERATOR = 'SET_HIGHPASS_MODULATOR_MODULATION_GENERATOR',\n  SET_HIGHPASS_MODULATOR_ENVELOPE_GENERATOR = 'SET_HIGHPASS_MODULATOR_ENVELOPE_GENERATOR',\n  SET_LOWPASS_CUTOFF = 'SET_LOWPASS_CUTOFF',\n  SET_LOWPASS_PEAK = 'SET_LOWPASS_PEAK',\n  SET_LOWPASS_MODULATOR_MODULATION_GENERATOR = 'SET_LOWPASS_MODULATOR_MODULATION_GENERATOR',\n  SET_LOWPASS_MODULATOR_ENVELOPE_GENERATOR = 'SET_LOWPASS_MODULATOR_ENVELOPE_GENERATOR',\n  SET_MODULATION_GENERATOR_WAVE_FORM = 'SET_MODULATION_GENERATOR_WAVE_FORM',\n  SET_MODULATION_GENERATOR_FREQUENCY = 'SET_MODULATION_GENERATOR_FREQUENCY',\n  SET_ENVELOPE_GENERATOR_1_DELAY = 'SET_ENVELOPE_GENERATOR_1_DELAY',\n  SET_ENVELOPE_GENERATOR_1_ATTACK = 'SET_ENVELOPE_GENERATOR_1_ATTACK',\n  SET_ENVELOPE_GENERATOR_1_RELEASE = 'SET_ENVELOPE_GENERATOR_1_RELEASE',\n  SET_ENVELOPE_GENERATOR_2_HOLD = 'SET_ENVELOPE_GENERATOR_2_HOLD',\n  SET_ENVELOPE_GENERATOR_2_ATTACK = 'SET_ENVELOPE_GENERATOR_2_ATTACK',\n  SET_ENVELOPE_GENERATOR_2_DECAY = 'SET_ENVELOPE_GENERATOR_2_DECAY',\n  SET_ENVELOPE_GENERATOR_2_SUSTAIN = 'SET_ENVELOPE_GENERATOR_2_SUSTAIN',\n  SET_ENVELOPE_GENERATOR_2_RELEASE = 'SET_ENVELOPE_GENERATOR_2_RELEASE',\n  SET_KEYBOARD_OCTAVES = 'SET_KEYBOARD_OCTAVES',\n  SET_KEY_DOWN = 'SET_KEY_DOWN',\n  SET_KEY_UP = 'SET_KEY_UP',\n  SET_KEYBOARD_BASS_NOTE = 'SET_KEYBOARD_BASS_NOTE'\n}\n\nexport interface SetVolumeAction {\n  type: ActionType.SET_VOLUME\n  /** The new volume value */\n  payload: number\n}\n\nexport interface SetVCO1WaveShapeAction {\n  type: ActionType.SET_VCO1_WAVE_SHAPE\n  /** The new wave shape */\n  payload: VCO1WaveShape\n}\n\nexport interface SetVCO1PulseWidthAction {\n  type: ActionType.SET_VCO1_PULSE_WIDTH\n  /** The new pulse width value */\n  payload: number\n}\n\nexport interface SetVCO1ScaleAction {\n  type: ActionType.SET_VCO1_SCALE\n  /** The new scale */\n  payload: number\n}\n\nexport interface SetVCO2WaveShapeAction {\n  type: ActionType.SET_VCO2_WAVE_SHAPE\n  /** The new wave shape */\n  payload: VCO2WaveShape\n}\n\nexport interface SetVCO2PitchAction {\n  type: ActionType.SET_VCO2_PITCH\n  /** The new pitch value */\n  payload: number\n}\n\nexport interface SetVCO2ScaleAction {\n  type: ActionType.SET_VCO2_SCALE\n  /** The new scale */\n  payload: number\n}\n\nexport interface SetVCO1LevelAction {\n  type: ActionType.SET_VCO1_LEVEL\n  payload: number\n}\n\nexport interface SetVCO2LevelAction {\n  type: ActionType.SET_VCO2_LEVEL\n  payload: number\n}\n\nexport interface SetPortamentoAction {\n  type: ActionType.SET_PORTAMENTO\n  payload: number\n}\n\nexport interface SetMasterTune {\n  type: ActionType.SET_MASTER_TUNE\n  payload: number\n}\n\nexport interface SetFrequencyModulatorModulationGeneratorAction {\n  type: ActionType.SET_FREQUENCY_MODULATOR_MODULATION_GENERATOR\n  payload: number\n}\n\nexport interface SetFrequencyModulatorEnvelopeGeneratorAction {\n  type: ActionType.SET_FREQUENCY_MODULATOR_ENVELOPE_GENERATOR\n  payload: number\n}\n\nexport interface SetHighpassCutoffAction {\n  type: ActionType.SET_HIGHPASS_CUTOFF\n  payload: number\n}\n\nexport interface SetHighpassPeakAction {\n  type: ActionType.SET_HIGHPASS_PEAK\n  payload: number\n}\n\nexport interface SetHighpassModulatorModulationGeneratorAction {\n  type: ActionType.SET_HIGHPASS_MODULATOR_MODULATION_GENERATOR\n  payload: number\n}\n\nexport interface SetHighpassModulatorEnvelopeGeneratorAction {\n  type: ActionType.SET_HIGHPASS_MODULATOR_ENVELOPE_GENERATOR\n  payload: number\n}\n\nexport interface SetLowpassCutoffAction {\n  type: ActionType.SET_LOWPASS_CUTOFF\n  payload: number\n}\n\nexport interface SetLowpassPeakAction {\n  type: ActionType.SET_LOWPASS_PEAK\n  payload: number\n}\n\nexport interface SetLowpassModulatorModulationGeneratorAction {\n  type: ActionType.SET_LOWPASS_MODULATOR_MODULATION_GENERATOR\n  payload: number\n}\n\nexport interface SetLowpassModulatorEnvelopeGeneratorAction {\n  type: ActionType.SET_LOWPASS_MODULATOR_ENVELOPE_GENERATOR\n  payload: number\n}\n\nexport interface SetModulationGeneratorWaveFormAction {\n  type: ActionType.SET_MODULATION_GENERATOR_WAVE_FORM\n  payload: number\n}\n\nexport interface SetModulationGeneratorFrequencyAction {\n  type: ActionType.SET_MODULATION_GENERATOR_FREQUENCY\n  payload: number\n}\n\nexport interface SetEnvelopeGenerator1DelayAction {\n  type: ActionType.SET_ENVELOPE_GENERATOR_1_DELAY\n  payload: number\n}\n\nexport interface SetEnvelopeGenerator1AttackAction {\n  type: ActionType.SET_ENVELOPE_GENERATOR_1_ATTACK\n  payload: number\n}\n\nexport interface SetEnvelopeGenerator1ReleaseAction {\n  type: ActionType.SET_ENVELOPE_GENERATOR_1_RELEASE\n  payload: number\n}\n\nexport interface SetEnvelopeGenerator2HoldAction {\n  type: ActionType.SET_ENVELOPE_GENERATOR_2_HOLD\n  payload: number\n}\n\nexport interface SetEnvelopeGenerator2AttackAction {\n  type: ActionType.SET_ENVELOPE_GENERATOR_2_ATTACK\n  payload: number\n}\n\nexport interface SetEnvelopeGenerator2DecayAction {\n  type: ActionType.SET_ENVELOPE_GENERATOR_2_DECAY\n  payload: number\n}\n\nexport interface SetEnvelopeGenerator2SustainAction {\n  type: ActionType.SET_ENVELOPE_GENERATOR_2_SUSTAIN\n  payload: number\n}\n\nexport interface SetEnvelopeGenerator2ReleaseAction {\n  type: ActionType.SET_ENVELOPE_GENERATOR_2_RELEASE\n  payload: number\n}\n\nexport interface SetKeyboardOctavesAction {\n  type: ActionType.SET_KEYBOARD_OCTAVES\n  payload: number\n}\n\nexport interface SetKeyDownAction {\n  type: ActionType.SET_KEY_DOWN\n  payload: number\n}\n\nexport interface SetKeyUpAction {\n  type: ActionType.SET_KEY_UP\n  payload: number\n}\n\nexport interface SetKeyboardBassNoteAction {\n  type: ActionType.SET_KEYBOARD_BASS_NOTE\n  payload: number\n}\n\nexport type Action =\n  | SetVolumeAction\n  | SetVCO1WaveShapeAction\n  | SetVCO1PulseWidthAction\n  | SetVCO1ScaleAction\n  | SetVCO2WaveShapeAction\n  | SetVCO2PitchAction\n  | SetVCO2ScaleAction\n  | SetVCO1LevelAction\n  | SetVCO2LevelAction\n  | SetPortamentoAction\n  | SetMasterTune\n  | SetFrequencyModulatorModulationGeneratorAction\n  | SetFrequencyModulatorEnvelopeGeneratorAction\n  | SetHighpassCutoffAction\n  | SetHighpassPeakAction\n  | SetHighpassModulatorModulationGeneratorAction\n  | SetHighpassModulatorEnvelopeGeneratorAction\n  | SetLowpassCutoffAction\n  | SetLowpassPeakAction\n  | SetLowpassModulatorModulationGeneratorAction\n  | SetLowpassModulatorEnvelopeGeneratorAction\n  | SetModulationGeneratorWaveFormAction\n  | SetModulationGeneratorFrequencyAction\n  | SetEnvelopeGenerator1DelayAction\n  | SetEnvelopeGenerator1AttackAction\n  | SetEnvelopeGenerator1ReleaseAction\n  | SetEnvelopeGenerator2HoldAction\n  | SetEnvelopeGenerator2AttackAction\n  | SetEnvelopeGenerator2DecayAction\n  | SetEnvelopeGenerator2SustainAction\n  | SetEnvelopeGenerator2ReleaseAction\n  | SetKeyboardOctavesAction\n  | SetKeyDownAction\n  | SetKeyUpAction\n  | SetKeyboardBassNoteAction\n","import React from 'react'\nimport './style.scss'\nimport { ReactComponent as KnobSVG } from '../../icons/knob.svg'\nimport FriendlyRange from '../FriendlyRange'\n\nexport interface KnobProps {\n  step?: string | number\n  min?: number\n  max?: number\n  /** A number in the range min-max */\n  value: number\n  /**\n   * The angle (clockwise from twelve o'clock) that the knob will point to when\n   * value is 0.\n   */\n  startAngle?: number\n  /**\n   * The angle (clockwise from twelve o'clock) that the knob will point to when\n   * value is 1.\n   */\n  endAngle?: number\n  handleChange?: (newValue: number) => void\n  title?: string\n  className?: string\n  labels?: React.ReactNode[]\n}\n\nconst Knob: React.FC<KnobProps> = ({\n  step = 1,\n  min = 0,\n  max = 1,\n  value,\n  startAngle = -150,\n  endAngle = 150,\n  handleChange,\n  title,\n  className,\n  labels = []\n}) => {\n  const normalised = (value - min) / (max - min)\n\n  return (\n    <div className={className ? `${className} Knob` : 'Knob'}>\n      <div className=\"selector\">\n        <KnobSVG\n          className=\"visual\"\n          style={{\n            transform: `rotate(${(endAngle - startAngle) * normalised +\n              startAngle}deg)`\n          }}\n        />\n        <FriendlyRange\n          {...{\n            value,\n            min,\n            max,\n            step,\n            handleChange\n          }}\n        />\n      </div>\n      <div className=\"labels\">\n        {labels.map((label, i) => {\n          const angle =\n            -90 +\n            startAngle +\n            ((endAngle - startAngle) * i) / (labels.length - 1)\n          const dy = Math.sin((angle * Math.PI) / 180)\n          const dx = Math.cos((angle * Math.PI) / 180)\n          return (\n            <div key={i} className=\"label\">\n              <div\n                className=\"tickmark\"\n                style={{\n                  transform: `translate(-50%, -50%) rotate(${angle - 180}deg)`,\n                  top: `${50 + dy * 54}%`,\n                  left: `${50 + dx * 54}%`\n                }}\n              ></div>\n              <div\n                className=\"child\"\n                style={{\n                  top: `${50 + dy * 70}%`,\n                  left: `${50 + dx * 70}%`\n                }}\n              >\n                {label}\n              </div>\n            </div>\n          )\n        })}\n      </div>\n      {title && <div className=\"title\">{title}</div>}\n    </div>\n  )\n}\n\nexport default Knob\n","import * as actions from './types/actions'\nimport { VCO1WaveShape, VCO2WaveShape } from './types/state'\n\nconst ActionType = actions.ActionType\n\nexport const setVolume = (volume: number): actions.SetVolumeAction => ({\n  type: ActionType.SET_VOLUME,\n  payload: volume\n})\n\nexport const setVCO1WaveShape = (\n  shape: VCO1WaveShape\n): actions.SetVCO1WaveShapeAction => ({\n  type: ActionType.SET_VCO1_WAVE_SHAPE,\n  payload: shape\n})\n\nexport const setVCO1PulseWidth = (\n  pulseWidth: number\n): actions.SetVCO1PulseWidthAction => ({\n  type: ActionType.SET_VCO1_PULSE_WIDTH,\n  payload: pulseWidth\n})\n\nexport const setVCO1Scale = (scale: number): actions.SetVCO1ScaleAction => ({\n  type: ActionType.SET_VCO1_SCALE,\n  payload: scale\n})\n\nexport const setVCO2WaveShape = (\n  shape: VCO2WaveShape\n): actions.SetVCO2WaveShapeAction => ({\n  type: ActionType.SET_VCO2_WAVE_SHAPE,\n  payload: shape\n})\n\nexport const setVCO2Pitch = (pitch: number): actions.SetVCO2PitchAction => ({\n  type: ActionType.SET_VCO2_PITCH,\n  payload: pitch\n})\n\nexport const setVCO2Scale = (scale: number): actions.SetVCO2ScaleAction => ({\n  type: ActionType.SET_VCO2_SCALE,\n  payload: scale\n})\n\nexport const setVCO1Level = (level: number): actions.SetVCO1LevelAction => ({\n  type: ActionType.SET_VCO1_LEVEL,\n  payload: level\n})\n\nexport const setVCO2Level = (level: number): actions.SetVCO2LevelAction => ({\n  type: ActionType.SET_VCO2_LEVEL,\n  payload: level\n})\n\nexport const setPortamento = (port: number): actions.SetPortamentoAction => ({\n  type: ActionType.SET_PORTAMENTO,\n  payload: port\n})\n\nexport const setMasterTune = (tune: number): actions.SetMasterTune => ({\n  type: ActionType.SET_MASTER_TUNE,\n  payload: tune\n})\n\nexport const setFrequencyModulatorModulationGenerator = (\n  level: number\n): actions.SetFrequencyModulatorModulationGeneratorAction => ({\n  type: ActionType.SET_FREQUENCY_MODULATOR_MODULATION_GENERATOR,\n  payload: level\n})\n\nexport const setFrequencyModulatorEnvelopeGenerator = (\n  level: number\n): actions.SetFrequencyModulatorEnvelopeGeneratorAction => ({\n  type: ActionType.SET_FREQUENCY_MODULATOR_ENVELOPE_GENERATOR,\n  payload: level\n})\n\nexport const setHighpassCutoff = (\n  frequency: number\n): actions.SetHighpassCutoffAction => ({\n  type: ActionType.SET_HIGHPASS_CUTOFF,\n  payload: frequency\n})\n\nexport const setHighpassPeak = (q: number): actions.SetHighpassPeakAction => ({\n  type: ActionType.SET_HIGHPASS_PEAK,\n  payload: q\n})\n\nexport const setHighpassModulatorModulationGenerator = (\n  level: number\n): actions.SetHighpassModulatorModulationGeneratorAction => ({\n  type: ActionType.SET_HIGHPASS_MODULATOR_MODULATION_GENERATOR,\n  payload: level\n})\n\nexport const setHighpassModulatorEnvelopeGenerator = (\n  level: number\n): actions.SetHighpassModulatorEnvelopeGeneratorAction => ({\n  type: ActionType.SET_HIGHPASS_MODULATOR_ENVELOPE_GENERATOR,\n  payload: level\n})\n\nexport const setLowpassCutoff = (\n  frequency: number\n): actions.SetLowpassCutoffAction => ({\n  type: ActionType.SET_LOWPASS_CUTOFF,\n  payload: frequency\n})\n\nexport const setLowpassPeak = (q: number): actions.SetLowpassPeakAction => ({\n  type: ActionType.SET_LOWPASS_PEAK,\n  payload: q\n})\n\nexport const setLowpassModulatorModulationGenerator = (\n  level: number\n): actions.SetLowpassModulatorModulationGeneratorAction => ({\n  type: ActionType.SET_LOWPASS_MODULATOR_MODULATION_GENERATOR,\n  payload: level\n})\n\nexport const setLowpassModulatorEnvelopeGenerator = (\n  level: number\n): actions.SetLowpassModulatorEnvelopeGeneratorAction => ({\n  type: ActionType.SET_LOWPASS_MODULATOR_ENVELOPE_GENERATOR,\n  payload: level\n})\n\nexport const setModulationGeneratorWaveForm = (\n  form: number\n): actions.SetModulationGeneratorWaveFormAction => ({\n  type: ActionType.SET_MODULATION_GENERATOR_WAVE_FORM,\n  payload: form\n})\n\nexport const setModulationGeneratorFrequency = (\n  frequency: number\n): actions.SetModulationGeneratorFrequencyAction => ({\n  type: ActionType.SET_MODULATION_GENERATOR_FREQUENCY,\n  payload: frequency\n})\n\nexport const setEnvelopeGenerator1Delay = (\n  time: number\n): actions.SetEnvelopeGenerator1DelayAction => ({\n  type: ActionType.SET_ENVELOPE_GENERATOR_1_DELAY,\n  payload: time\n})\n\nexport const setEnvelopeGenerator1Attack = (\n  time: number\n): actions.SetEnvelopeGenerator1AttackAction => ({\n  type: ActionType.SET_ENVELOPE_GENERATOR_1_ATTACK,\n  payload: time\n})\n\nexport const setEnvelopeGenerator1Release = (\n  time: number\n): actions.SetEnvelopeGenerator1ReleaseAction => ({\n  type: ActionType.SET_ENVELOPE_GENERATOR_1_RELEASE,\n  payload: time\n})\n\nexport const setEnvelopeGenerator2Hold = (\n  time: number\n): actions.SetEnvelopeGenerator2HoldAction => ({\n  type: ActionType.SET_ENVELOPE_GENERATOR_2_HOLD,\n  payload: time\n})\n\nexport const setEnvelopeGenerator2Attack = (\n  time: number\n): actions.SetEnvelopeGenerator2AttackAction => ({\n  type: ActionType.SET_ENVELOPE_GENERATOR_2_ATTACK,\n  payload: time\n})\n\nexport const setEnvelopeGenerator2Decay = (\n  time: number\n): actions.SetEnvelopeGenerator2DecayAction => ({\n  type: ActionType.SET_ENVELOPE_GENERATOR_2_DECAY,\n  payload: time\n})\n\nexport const setEnvelopeGenerator2Sustain = (\n  level: number\n): actions.SetEnvelopeGenerator2SustainAction => ({\n  type: ActionType.SET_ENVELOPE_GENERATOR_2_SUSTAIN,\n  payload: level\n})\n\nexport const setEnvelopeGenerator2Release = (\n  time: number\n): actions.SetEnvelopeGenerator2ReleaseAction => ({\n  type: ActionType.SET_ENVELOPE_GENERATOR_2_RELEASE,\n  payload: time\n})\n\nexport const setKeyboardOctaves = (\n  octaves: number\n): actions.SetKeyboardOctavesAction => ({\n  type: ActionType.SET_KEYBOARD_OCTAVES,\n  payload: octaves\n})\n\nexport const setKeyDown = (note: number): actions.SetKeyDownAction => ({\n  type: ActionType.SET_KEY_DOWN,\n  payload: note\n})\n\nexport const setKeyUp = (note: number): actions.SetKeyUpAction => ({\n  type: ActionType.SET_KEY_UP,\n  payload: note\n})\n\nexport const setBassNote = (\n  note: number\n): actions.SetKeyboardBassNoteAction => ({\n  type: ActionType.SET_KEYBOARD_BASS_NOTE,\n  payload: note\n})\n","export enum VCO1WaveShape {\n  TRIANGLE = 0,\n  SAWTOOTH = 1,\n  SQUARE = 2,\n  NOISE = 3\n}\n\nexport interface VCO1State {\n  waveShape: VCO1WaveShape\n  pulseWidth: number\n  scale: number\n}\n\nexport enum VCO2WaveShape {\n  SAWTOOTH = 0,\n  SQUARE = 1,\n  PULSE = 2,\n  RING = 3\n}\n\nexport interface VCO2State {\n  waveShape: VCO2WaveShape\n  pitch: number\n  scale: number\n}\n\nexport interface VCOMixerState {\n  vco1Level: number\n  vco2Level: number\n}\n\nexport interface FrequencyModulatorState {\n  /**\n   * The amount of frequency modulation from the modulation generator.\n   *\n   * Also affects the amount of frequency modulation from Total external\n   * modulation.\n   */\n  modulationGenerator: number\n  /**\n   * The amount of frequency modulation from the envelope generator.\n   *\n   * Also affects the amount of frequency modulation from external frequency\n   * modulation.\n   */\n  envelopeGenerator: number\n}\n\nexport interface FilterState {\n  /** The cutoff frequency of the filter. */\n  cutoff: number\n  /** The amount of resonance on the filter at the cutoff frequency. */\n  peak: number\n  /** The amount of modulation from the modulation generator */\n  modulator: FrequencyModulatorState\n}\n\nexport interface ModulationGeneratorState {\n  /** The squewedness of the waveform from downramp at 0, to triangle at 0.5,\n   * and upramp at 1.\n   */\n  waveForm: number\n  frequency: number\n}\n\nexport interface DAREnvelopeState {\n  delay: number\n  attack: number\n  release: number\n}\n\nexport interface HADSREnvelopeState {\n  hold: number\n  attack: number\n  decay: number\n  sustain: number\n  release: number\n}\n\nexport interface KeyboardState {\n  /** the number of octaves in the keyboard */\n  octaves: number\n  /** the state of each key */\n  keys: boolean[]\n  /** the note value of the lowest note on the keyboard */\n  bassNote: number\n}\n\nexport interface RootState {\n  /** Master volume */\n  volume: number\n  vco1: VCO1State\n  vco2: VCO2State\n  vcoMixer: VCOMixerState\n  portamento: number\n  masterTune: number\n  frequencyModulator: FrequencyModulatorState\n  highpass: FilterState\n  lowpass: FilterState\n  modulationGenerator: ModulationGeneratorState\n  envelopeGenerator1: DAREnvelopeState\n  envelopeGenerator2: HADSREnvelopeState\n  keyboard: KeyboardState\n}\n","import React from 'react'\nimport { ReactComponent as Triangle } from '../../icons/wave-shapes/triangle.svg'\nimport { ReactComponent as Saw } from '../../icons/wave-shapes/saw.svg'\nimport { ReactComponent as Square } from '../../icons/wave-shapes/square.svg'\nimport { ReactComponent as Pulse } from '../../icons/wave-shapes/short-pulse.svg'\nimport { ReactComponent as Noise } from '../../icons/wave-shapes/noise.svg'\nimport { ReactComponent as Arrows } from '../../icons/arrows.svg'\nimport Knob from '../../components/Knob'\nimport { MapStateToProps, MapDispatchToProps, connect } from 'react-redux'\nimport { setVCO1WaveShape } from '../../../state/actions'\nimport { RootState, VCO1WaveShape } from '../../../state/types/state'\n\nconst mapStateToProps: MapStateToProps<\n  {\n    value: number\n    min: number\n    max: number\n    startAngle: number\n    endAngle: number\n    title: string\n    className: string\n    labels: React.ReactNode[]\n  },\n  {},\n  RootState\n> = state => ({\n  value: state.vco1.waveShape,\n  min: 0,\n  max: 3,\n  startAngle: -70,\n  endAngle: 70,\n  title: 'WAVE FORM',\n  className: 'waveShape',\n  labels: [\n    <Triangle key=\"triangle\" />,\n    <Saw key=\"saw\" />,\n    <div\n      key=\"square\"\n      className=\"squareOrPulse\"\n      style={{ display: 'flex', height: '1em', width: '100%' }}\n    >\n      <Square />\n      <Arrows />\n      <Pulse />\n    </div>,\n    <Noise key=\"noise\" />\n  ]\n})\n\nconst mapDispatchToProps: MapDispatchToProps<\n  {\n    handleChange: (value: number) => void\n  },\n  {}\n> = dispatch => ({\n  handleChange: value => {\n    const shapes = [\n      VCO1WaveShape.TRIANGLE,\n      VCO1WaveShape.SAWTOOTH,\n      VCO1WaveShape.SQUARE,\n      VCO1WaveShape.NOISE\n    ]\n    dispatch(setVCO1WaveShape(shapes[value]))\n  }\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Knob)\n","import React from 'react'\nimport { connect, MapDispatchToProps, MapStateToProps } from 'react-redux'\nimport Knob from '../../components/Knob'\nimport { RootState } from '../../../state/types/state'\nimport { setVCO1Scale } from '../../../state/actions'\n\nconst mapStateToProps: MapStateToProps<\n  {\n    value: number\n    min: number\n    max: number\n    startAngle: number\n    endAngle: number\n    title: string\n    className: string\n    labels: React.ReactNode[]\n  },\n  {},\n  RootState\n> = state => ({\n  value: state.vco1.scale,\n  min: 0,\n  max: 3,\n  startAngle: -70,\n  endAngle: 70,\n  title: 'SCALE',\n  className: 'scale',\n  labels: [\"32'\", \"16'\", \"8'\", \"4'\"]\n})\n\nconst mapDispatchToProps: MapDispatchToProps<\n  {\n    handleChange: (value: number) => void\n  },\n  {}\n> = dispatch => ({\n  handleChange: (value: number) => {\n    dispatch(setVCO1Scale(value))\n  }\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Knob)\n","import { MapStateToProps, connect, MapDispatchToProps } from 'react-redux'\nimport { RootState } from '../../../state/types/state'\nimport Knob from '../../components/Knob'\nimport { Action } from '../../../state/types/actions'\nimport { ActionCreator } from 'redux'\n\nexport interface ValueKnobProps {\n  selector: (state: RootState) => number\n  actionCreator: ActionCreator<Action>\n  labels?: React.ReactNode[]\n  title?: string\n  className?: string\n  min?: number\n  max?: number\n}\n\nconst mapStateToProps: MapStateToProps<\n  {\n    step: string\n    min: number\n    max: number\n    value: number\n    labels: React.ReactNode[]\n  },\n  ValueKnobProps,\n  RootState\n> = (state, ownProps) => ({\n  step: 'any',\n  min: ownProps.min || 0,\n  max: ownProps.max || 1,\n  value: ownProps.selector(state),\n  labels: ownProps.labels || [...Array(11)].map((_, i) => i),\n  title: ownProps.title,\n  className: ownProps.className\n})\n\nconst mapDispatchToProps: MapDispatchToProps<\n  {\n    handleChange: (value: number) => void\n  },\n  ValueKnobProps\n> = (dispatch, ownProps) => ({\n  handleChange: value => {\n    dispatch(ownProps.actionCreator(value))\n  }\n})\n\n/**\n * The value knob is a wrapper to connect a Knob with a continuous value from 0\n * to 1 to the state object.\n *\n * This is because there are so many knobs of this kind, and having separate\n * modules for each of them was causing a lot of code duplication.\n */\nexport default connect(mapStateToProps, mapDispatchToProps)(Knob)\n","import React from 'react'\nimport WaveShape from './WaveShape'\nimport Scale from './Scale'\nimport './style.scss'\nimport ValueKnob from '../common/ValueKnob'\nimport { setVCO1PulseWidth } from '../../../state/actions'\n\nconst VCO1: React.FC = () => {\n  return (\n    <div className=\"VCO1 module\">\n      VOLTAGE CONTROLLED OSCILLATOR 1\n      <WaveShape />\n      <ValueKnob\n        selector={state => state.vco1.pulseWidth}\n        actionCreator={setVCO1PulseWidth}\n        title=\"PW\"\n        className=\"pulseWidth\"\n        min={0.5}\n        max={0.99}\n        labels={[...Array(11)]\n          .map((_, i) => i - 5)\n          .map(i => (i > 0 ? '+' : '') + i)}\n      />\n      <Scale />\n    </div>\n  )\n}\n\nexport default VCO1\n","import React from 'react'\nimport { ReactComponent as Saw } from '../../icons/wave-shapes/saw.svg'\nimport { ReactComponent as Square } from '../../icons/wave-shapes/square.svg'\nimport { ReactComponent as Pulse } from '../../icons/wave-shapes/short-pulse.svg'\nimport Knob from '../../components/Knob'\nimport { MapStateToProps, MapDispatchToProps, connect } from 'react-redux'\nimport { setVCO2WaveShape } from '../../../state/actions'\nimport { RootState, VCO2WaveShape } from '../../../state/types/state'\n\nconst mapStateToProps: MapStateToProps<\n  {\n    value: number\n    min: number\n    max: number\n    startAngle: number\n    endAngle: number\n    title: string\n    className: string\n    labels: React.ReactNode[]\n  },\n  {},\n  RootState\n> = state => ({\n  value: state.vco2.waveShape,\n  min: 0,\n  max: 3,\n  startAngle: -70,\n  endAngle: 70,\n  title: 'WAVE FORM',\n  className: 'waveShape',\n  labels: [\n    <Saw key=\"saw\" />,\n    <Square key=\"square\" />,\n    <Pulse key=\"pulse\" />,\n    'RING'\n  ]\n})\n\nconst mapDispatchToProps: MapDispatchToProps<\n  {\n    handleChange: (value: number) => void\n  },\n  {}\n> = dispatch => ({\n  handleChange: value => {\n    const shapes = [\n      VCO2WaveShape.SAWTOOTH,\n      VCO2WaveShape.SQUARE,\n      VCO2WaveShape.PULSE,\n      VCO2WaveShape.RING\n    ]\n    dispatch(setVCO2WaveShape(shapes[value]))\n  }\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Knob)\n","import React from 'react'\nimport { connect, MapDispatchToProps, MapStateToProps } from 'react-redux'\nimport Knob from '../../components/Knob'\nimport { RootState } from '../../../state/types/state'\nimport { setVCO2Pitch } from '../../../state/actions'\n\nconst mapStateToProps: MapStateToProps<\n  {\n    value: number\n    min: number\n    max: number\n    step: string\n    title: string\n    className: string\n    labels: React.ReactNode[]\n  },\n  {},\n  RootState\n> = state => ({\n  value: state.vco2.pitch,\n  min: -1,\n  max: 1,\n  step: 'any',\n  title: 'PITCH',\n  className: 'pitch',\n  labels: [...Array(11)].map((_, i) => i - 5).map(v => (v > 0 ? '+' : '') + v)\n})\n\nconst mapDispatchToProps: MapDispatchToProps<\n  {\n    handleChange: (value: number) => void\n  },\n  {}\n> = dispatch => ({\n  handleChange: value => {\n    dispatch(setVCO2Pitch(value))\n  }\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Knob)\n","import React from 'react'\nimport { connect, MapDispatchToProps, MapStateToProps } from 'react-redux'\nimport Knob from '../../components/Knob'\nimport { RootState } from '../../../state/types/state'\nimport { setVCO2Scale } from '../../../state/actions'\n\nconst mapStateToProps: MapStateToProps<\n  {\n    value: number\n    min: number\n    max: number\n    startAngle: number\n    endAngle: number\n    title: string\n    className: string\n    labels: React.ReactNode[]\n  },\n  {},\n  RootState\n> = state => ({\n  value: state.vco2.scale,\n  min: 0,\n  max: 3,\n  startAngle: -70,\n  endAngle: 70,\n  title: 'SCALE',\n  className: 'scale',\n  labels: [\"16'\", \"8'\", \"4'\", \"2'\"]\n})\n\nconst mapDispatchToProps: MapDispatchToProps<\n  {\n    handleChange: (value: number) => void\n  },\n  {}\n> = dispatch => ({\n  handleChange: value => {\n    dispatch(setVCO2Scale(value))\n  }\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Knob)\n","import React from 'react'\nimport WaveShape from './WaveShape'\nimport Pitch from './Pitch'\nimport Scale from './Scale'\nimport './style.scss'\n\nconst VCO2: React.FC = () => {\n  return (\n    <div className=\"VCO2 module\">\n      VOLTAGE CONTROLLED OSCILLATOR 2\n      <WaveShape />\n      <Pitch />\n      <Scale />\n    </div>\n  )\n}\n\nexport default VCO2\n","import React from 'react'\nimport './style.scss'\n\nexport interface LEDProps {\n  isOn?: boolean\n}\n\nconst LED: React.FC<LEDProps> = ({ isOn = true }) => {\n  return <div className={`LED ${isOn ? 'on' : 'off'}`} />\n}\n\nexport default LED\n","import React from 'react'\nimport './style.scss'\nimport { connect, MapStateToProps, MapDispatchToProps } from 'react-redux'\nimport { RootState } from '../../../state/types/state'\nimport { setVolume } from '../../../state/actions'\nimport Knob from '../../components/Knob'\nimport LED from '../../components/LED'\n\nconst mapStateToProps: MapStateToProps<\n  {\n    value: number\n  },\n  {},\n  RootState\n> = state => ({\n  value: state.volume\n})\n\nconst mapDispatchToProps: MapDispatchToProps<\n  {\n    handleChange: (value: number) => void\n  },\n  {}\n> = dispatch => ({\n  handleChange: value => {\n    dispatch(setVolume(value))\n  }\n})\n\nconst Volume: React.FC<{\n  value: number\n  handleChange: (value: number) => void\n}> = ({ value, handleChange }) => {\n  return (\n    <div className=\"Volume module\">\n      VOLUME\n      <div className=\"dials\">\n        <Knob\n          value={value}\n          startAngle={-180}\n          endAngle={120}\n          step={'any'}\n          handleChange={handleChange}\n          labels={['STANDBY', 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}\n        />\n        <div className=\"indicator\">\n          <LED isOn={value > 0} />\n          ON\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Volume)\n","import React from 'react'\nimport './style.scss'\nimport ValueKnob from '../common/ValueKnob'\nimport { setVCO1Level, setVCO2Level } from '../../../state/actions'\n\nconst VCOMixer: React.FC = () => {\n  return (\n    <div className=\"VCOMixer module\">\n      VCO MIXER\n      <ValueKnob\n        selector={state => state.vcoMixer.vco1Level}\n        actionCreator={setVCO1Level}\n        title=\"VCO 1 LEVEL\"\n      />\n      <ValueKnob\n        selector={state => state.vcoMixer.vco2Level}\n        actionCreator={setVCO2Level}\n        title=\"VCO 2 LEVEL\"\n      />\n    </div>\n  )\n}\n\nexport default VCOMixer\n","import React from 'react'\nimport './style.scss'\nimport { setPortamento } from '../../../state/actions'\nimport ValueKnob from '../common/ValueKnob'\n\nconst Portamento: React.FC = () => {\n  return (\n    <div className=\"Portamento module\">\n      PORTAMENTO\n      <ValueKnob\n        selector={state => state.portamento}\n        actionCreator={setPortamento}\n        title=\"TIME\"\n      />\n    </div>\n  )\n}\n\nexport default Portamento\n","import React from 'react'\nimport './style.scss'\nimport { setMasterTune } from '../../../state/actions'\nimport ValueKnob from '../common/ValueKnob'\n\nconst MasterTune: React.FC = () => {\n  return (\n    <div className=\"MasterTune module\">\n      MASTER TUNE\n      <ValueKnob\n        selector={state => state.masterTune}\n        actionCreator={setMasterTune}\n        labels={[...Array(11)]\n          .map((_, i) => i - 5)\n          .map(i => (i > 0 ? '+' : '') + i)}\n        min={-1}\n        max={1}\n      />\n    </div>\n  )\n}\n\nexport default MasterTune\n","import React from 'react'\nimport './style.scss'\nimport ValueKnob from '../common/ValueKnob'\nimport {\n  setFrequencyModulatorEnvelopeGenerator,\n  setFrequencyModulatorModulationGenerator\n} from '../../../state/actions'\n\nconst FrequencyModulator: React.FC = () => {\n  return (\n    <div className=\"FrequencyModulator module\">\n      FREQUENCY MODULATION\n      <ValueKnob\n        selector={state => state.frequencyModulator.modulationGenerator}\n        actionCreator={setFrequencyModulatorModulationGenerator}\n        title=\"MG/T.EXT\"\n      />\n      <ValueKnob\n        selector={state => state.frequencyModulator.envelopeGenerator}\n        actionCreator={setFrequencyModulatorEnvelopeGenerator}\n        title=\"EG1/EXT\"\n      />\n    </div>\n  )\n}\n\nexport default FrequencyModulator\n","import React from 'react'\nimport './style.scss'\nimport ValueKnob from '../common/ValueKnob'\nimport {\n  setHighpassCutoff,\n  setHighpassPeak,\n  setHighpassModulatorModulationGenerator,\n  setHighpassModulatorEnvelopeGenerator\n} from '../../../state/actions'\n\nconst Highpass: React.FC = () => {\n  return (\n    <div className=\"Highpass module\">\n      VOLTAGE CONTROLLED HIGHPASS FILTER\n      <ValueKnob\n        selector={state => state.highpass.cutoff}\n        actionCreator={setHighpassCutoff}\n        title=\"CUTOFF FREQUENCY\"\n      />\n      <ValueKnob\n        selector={state => state.highpass.peak}\n        actionCreator={setHighpassPeak}\n        title=\"PEAK\"\n      />\n      CUTOFF FREQUENCY MODULATION\n      <ValueKnob\n        selector={state => state.highpass.modulator.modulationGenerator}\n        actionCreator={setHighpassModulatorModulationGenerator}\n        title=\"MG/T.EXT\"\n      />\n      <ValueKnob\n        selector={state => state.highpass.modulator.envelopeGenerator}\n        actionCreator={setHighpassModulatorEnvelopeGenerator}\n        title=\"EG2/EXT\"\n      />\n    </div>\n  )\n}\n\nexport default Highpass\n","import React from 'react'\nimport './style.scss'\nimport ValueKnob from '../common/ValueKnob'\nimport {\n  setLowpassCutoff,\n  setLowpassPeak,\n  setLowpassModulatorEnvelopeGenerator,\n  setLowpassModulatorModulationGenerator\n} from '../../../state/actions'\n\nconst Lowpass: React.FC = () => {\n  return (\n    <div className=\"Lowpass module\">\n      VOLTAGE CONTROLLED LOWPASS FILTER\n      <ValueKnob\n        selector={state => state.lowpass.cutoff}\n        actionCreator={setLowpassCutoff}\n        title=\"CUTOFF FREQUENCY\"\n      />\n      <ValueKnob\n        selector={state => state.lowpass.peak}\n        actionCreator={setLowpassPeak}\n        title=\"PEAK\"\n      />\n      CUTOFF FREQUENCY MODULATION\n      <ValueKnob\n        selector={state => state.lowpass.modulator.modulationGenerator}\n        actionCreator={setLowpassModulatorModulationGenerator}\n        title=\"MG/T.EXT\"\n      />\n      <ValueKnob\n        selector={state => state.lowpass.modulator.envelopeGenerator}\n        actionCreator={setLowpassModulatorEnvelopeGenerator}\n        title=\"EG2/EXT\"\n      />\n    </div>\n  )\n}\n\nexport default Lowpass\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0,2 L0,0 L2.25,0 L2.25,2 L3,2\",\n  stroke: \"var(--text-color)\",\n  strokeWidth: 0.3,\n  strokeLinejoin: \"round\",\n  strokeLinecap: \"round\",\n  fill: \"none\"\n});\n\nvar SvgLongPulse = function SvgLongPulse(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"-0.15 -0.15 3.3 2.3\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLongPulse, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/long-pulse.392b898d.svg\";\nexport { ForwardRef as ReactComponent };","export { default as fiveLimit } from './references/five-limit'\nexport { default as equalTemper } from './references/equal-temper'\nexport { default as pythagorean } from './references/pythagorean'\n\nexport enum Key {\n  A = -3,\n  A_SHARP = -2,\n  B_FLAT = -2,\n  B = -1,\n  C = 0,\n  C_SHARP = 1,\n  D_FLAT = 1,\n  D = 2,\n  D_SHARP = 3,\n  E_FLAT = 3,\n  E = 4,\n  F = 5,\n  F_SHARP = 6,\n  G_FLAT = 6,\n  G = 7,\n  G_SHARP = 8,\n  A_FLAT = 8\n}\n\nexport class TwelveTone {\n  private baseOctave: number[]\n  private key: Key\n\n  constructor(fundamental: number, reference: number[], key = Key.A) {\n    this.key = key\n    this.baseOctave = reference.map(ratio => ratio * fundamental)\n  }\n\n  getNote(note: number) {\n    note -= this.key\n    const key = ((note % 12) + 12) % 12\n    const octave = Math.floor(note / 12)\n    return this.baseOctave[key] * Math.pow(2, octave - 6)\n  }\n}\n","import React from 'react'\nimport './style.scss'\nimport ValueKnob from '../common/ValueKnob'\nimport {\n  setModulationGeneratorWaveForm,\n  setModulationGeneratorFrequency\n} from '../../../state/actions'\nimport { ReactComponent as Triangle } from '../../icons/wave-shapes/triangle.svg'\nimport { ReactComponent as Saw } from '../../icons/wave-shapes/saw.svg'\nimport { ReactComponent as Short } from '../../icons/wave-shapes/long-pulse.svg'\nimport { ReactComponent as Long } from '../../icons/wave-shapes/short-pulse.svg'\nimport { ReactComponent as Square } from '../../icons/wave-shapes/square.svg'\n\nconst ModulationGenerator: React.FC = () => {\n  return (\n    <div className=\"ModulationGenerator module\">\n      MODULATION GENERATOR\n      <ValueKnob\n        selector={state => state.modulationGenerator.waveForm}\n        actionCreator={setModulationGeneratorWaveForm}\n        title=\"WAVE FORM\"\n        className=\"waveForm\"\n        labels={[\n          <div key=\"low\" className=\"low\">\n            <Short />\n            <Saw />\n          </div>,\n          '',\n          '',\n          '',\n          '',\n          <div key=\"mid\" className=\"mid\">\n            <Square />\n            <Triangle />\n          </div>,\n          '',\n          '',\n          '',\n          '',\n          <div key=\"high\" className=\"high\">\n            <Long />\n            <Saw />\n          </div>\n        ]}\n      />\n      <ValueKnob\n        selector={state => state.modulationGenerator.frequency}\n        actionCreator={setModulationGeneratorFrequency}\n        title=\"FREQUENCY\"\n        min={0.2}\n        max={30}\n      />\n    </div>\n  )\n}\n\nexport default ModulationGenerator\n","import React from 'react'\nimport './style.scss'\nimport ValueKnob from '../common/ValueKnob'\nimport {\n  setEnvelopeGenerator1Delay,\n  setEnvelopeGenerator1Attack,\n  setEnvelopeGenerator1Release\n} from '../../../state/actions'\n\nconst EnvelopeGenerator1: React.FC = () => {\n  return (\n    <div className=\"EnvelopeGenerator1 module\">\n      ENVELOPE GENERATOR 1\n      <ValueKnob\n        selector={state => state.envelopeGenerator1.delay}\n        actionCreator={setEnvelopeGenerator1Delay}\n        title=\"DELAY TIME\"\n      />\n      <ValueKnob\n        selector={state => state.envelopeGenerator1.attack}\n        actionCreator={setEnvelopeGenerator1Attack}\n        title=\"ATTACK TIME\"\n      />\n      <ValueKnob\n        selector={state => state.envelopeGenerator1.release}\n        actionCreator={setEnvelopeGenerator1Release}\n        title=\"RELEASE TIME\"\n      />\n    </div>\n  )\n}\n\nexport default EnvelopeGenerator1\n","import React from 'react'\nimport './style.scss'\nimport {\n  setEnvelopeGenerator2Hold,\n  setEnvelopeGenerator2Release,\n  setEnvelopeGenerator2Sustain,\n  setEnvelopeGenerator2Decay,\n  setEnvelopeGenerator2Attack\n} from '../../../state/actions'\nimport ValueKnob from '../common/ValueKnob'\n\nconst EnvelopeGenerator2: React.FC = () => {\n  return (\n    <div className=\"EnvelopeGenerator2 module\">\n      ENVELOPE GENERATOR 2\n      <ValueKnob\n        selector={state => state.envelopeGenerator2.hold}\n        actionCreator={setEnvelopeGenerator2Hold}\n        title=\"HOLD TIME\"\n      />\n      <ValueKnob\n        selector={state => state.envelopeGenerator2.attack}\n        actionCreator={setEnvelopeGenerator2Attack}\n        title=\"ATTACK TIME\"\n      />\n      <ValueKnob\n        selector={state => state.envelopeGenerator2.decay}\n        actionCreator={setEnvelopeGenerator2Decay}\n        title=\"DECAY TIME\"\n      />\n      <ValueKnob\n        selector={state => state.envelopeGenerator2.sustain}\n        actionCreator={setEnvelopeGenerator2Sustain}\n        title=\"SUSTAIN LEVEL\"\n      />\n      <ValueKnob\n        selector={state => state.envelopeGenerator2.release}\n        actionCreator={setEnvelopeGenerator2Release}\n        title=\"RELEASE TIME\"\n      />\n    </div>\n  )\n}\n\nexport default EnvelopeGenerator2\n","import React, { useMemo, useCallback, MouseEventHandler } from 'react'\n\nexport interface KeyProps {\n  /** The note value of the note the key represents */\n  note: number\n  handler: (note: number, on: boolean) => void\n  isOn: boolean\n}\n\nconst Key: React.FC<KeyProps> = ({ note, handler, isOn }) => {\n  const isBlack = useMemo(() => {\n    return [\n      1, // C#\n      3, // D#\n      6, // F#\n      8, // G#\n      10 // A#\n    ].includes(note % 12)\n  }, [note])\n\n  const start = useCallback(() => {\n    handler(note, true)\n  }, [handler, note])\n\n  const end = useCallback(() => {\n    handler(note, false)\n  }, [handler, note])\n\n  const mouseStart: MouseEventHandler = e => {\n    if (e.buttons & 1) {\n      start()\n    }\n  }\n\n  return (\n    <div\n      className={`Key ${isBlack ? 'black' : 'white'} ${isOn ? 'down' : 'up'}`}\n      onMouseDown={mouseStart}\n      onMouseOver={mouseStart}\n      onMouseUp={isOn ? end : undefined}\n      onMouseLeave={isOn ? end : undefined}\n      onTouchStart={start}\n      onTouchEnd={isOn ? end : undefined}\n    />\n  )\n}\n\nexport default Key\n","import React, { useEffect } from 'react'\nimport Key from './Key'\nimport './style.scss'\n\n/** Maps key values from the [DOM Level 3 Events\n * spec](https://www.w3.org/TR/uievents-key/#named-key-attribute-values) to\n * offset values from 0 for calculating the intended key to press. */\nconst notesByKey: {\n  [k: string]: number\n} = {\n  z: 0,\n  s: 1,\n  x: 2,\n  d: 3,\n  c: 4,\n  v: 5,\n  g: 6,\n  b: 7,\n  h: 8,\n  n: 9,\n  j: 10,\n  m: 11,\n  ',': 12,\n  q: 12,\n  l: 13,\n  '2': 13,\n  '.': 14,\n  w: 14,\n  ';': 15,\n  '3': 15,\n  '/': 16,\n  e: 16,\n  r: 17,\n  '5': 18,\n  t: 19,\n  '6': 20,\n  y: 21,\n  '7': 22,\n  u: 23,\n  i: 24,\n  '9': 25,\n  o: 26,\n  '0': 27,\n  p: 28,\n  '[': 29,\n  '=': 30,\n  ']': 31\n}\n\nexport interface KeyboardProps {\n  keys: boolean[]\n  bassNote: number\n  handler?: (note: number, on: boolean) => void\n}\n\nconst Keyboard: React.FC<KeyboardProps> = ({\n  keys,\n  handler = () => void 0,\n  bassNote\n}) => {\n  useEffect(() => {\n    const onKeyDown = (e: KeyboardEvent) => {\n      if (e.key in notesByKey) {\n        handler(notesByKey[e.key] + bassNote, true)\n      }\n    }\n    const onKeyUp = (e: KeyboardEvent) => {\n      if (e.key in notesByKey) {\n        handler(notesByKey[e.key] + bassNote, false)\n      }\n    }\n\n    window.addEventListener('keydown', onKeyDown)\n    window.addEventListener('keyup', onKeyUp)\n\n    return () => {\n      window.removeEventListener('keydown', onKeyDown)\n      window.removeEventListener('keyup', onKeyUp)\n    }\n  }, [bassNote, handler])\n\n  return (\n    <div className=\"Keyboard\">\n      {keys // array of the right length\n        .map((on, idx) => (\n          <Key\n            key={idx + bassNote}\n            note={idx + bassNote}\n            handler={handler}\n            isOn={on}\n          />\n        ))}\n    </div>\n  )\n}\n\nexport default Keyboard\n","import { connect, MapStateToProps, MapDispatchToProps } from 'react-redux'\nimport Keyboard from '../../components/Keyboard'\nimport { RootState } from '../../../state/types/state'\nimport { setKeyDown, setKeyUp } from '../../../state/actions'\n\nconst mapStateToProps: MapStateToProps<\n  {\n    keys: boolean[]\n    bassNote: number\n  },\n  {},\n  RootState\n> = state => ({\n  keys: state.keyboard.keys,\n  bassNote: state.keyboard.bassNote\n})\n\nconst mapDispatchToProps: MapDispatchToProps<\n  {\n    handler: (note: number, on: boolean) => void\n  },\n  {}\n> = dispatch => ({\n  handler: (note, on) => {\n    dispatch((on ? setKeyDown : setKeyUp)(note))\n  }\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Keyboard)\n","import { ActionType, Action } from '../types/actions'\n\nexport const getSetter = function<T>(targetActionType: ActionType, initial: T) {\n  return (state = initial, action: Action) => {\n    if (action.type === targetActionType) {\n      // We assert that the payload will be of type T to the compiler.\n      return (action.payload as unknown) as T\n    }\n    return state\n  }\n}\n","import { ActionType } from '../types/actions'\nimport { combineReducers } from 'redux'\nimport { VCO1WaveShape } from '../types/state'\nimport { getSetter } from './common'\n\nconst waveShape = getSetter(\n  ActionType.SET_VCO1_WAVE_SHAPE,\n  VCO1WaveShape.SAWTOOTH\n)\n\nconst pulseWidth = getSetter(ActionType.SET_VCO1_PULSE_WIDTH, 1.49 / 2)\n\nconst scale = getSetter(ActionType.SET_VCO1_SCALE, 1)\n\nexport default combineReducers({ waveShape, pulseWidth, scale })\n","import { ActionType } from '../types/actions'\nimport { combineReducers } from 'redux'\nimport { VCO2WaveShape } from '../types/state'\nimport { getSetter } from './common'\n\nconst waveShape = getSetter(\n  ActionType.SET_VCO2_WAVE_SHAPE,\n  VCO2WaveShape.SAWTOOTH\n)\n\nconst pitch = getSetter(ActionType.SET_VCO2_PITCH, 0)\n\nconst scale = getSetter(ActionType.SET_VCO2_SCALE, 0)\n\nexport default combineReducers({ waveShape, pitch, scale })\n","import { combineReducers } from 'redux'\nimport { ActionType } from '../types/actions'\nimport { getSetter } from './common'\n\nconst vco1Level = getSetter(ActionType.SET_VCO1_LEVEL, 1)\n\nconst vco2Level = getSetter(ActionType.SET_VCO2_LEVEL, 0.5)\n\nexport default combineReducers({\n  vco1Level,\n  vco2Level\n})\n","import { combineReducers } from 'redux'\nimport { Action, ActionType } from '../types/actions'\n\nconst modulationGenerator = (state = 0, action: Action) => {\n  switch (action.type) {\n    case ActionType.SET_FREQUENCY_MODULATOR_MODULATION_GENERATOR:\n      return action.payload\n    default:\n      return state\n  }\n}\n\nconst envelopeGenerator = (state = 0, action: Action) => {\n  switch (action.type) {\n    case ActionType.SET_FREQUENCY_MODULATOR_ENVELOPE_GENERATOR:\n      return action.payload\n    default:\n      return state\n  }\n}\n\nexport default combineReducers({\n  modulationGenerator,\n  envelopeGenerator\n})\n","import { combineReducers } from 'redux'\nimport { ActionType } from '../types/actions'\nimport { getSetter } from './common'\n\nconst cutoff = getSetter(ActionType.SET_HIGHPASS_CUTOFF, 0)\n\nconst peak = getSetter(ActionType.SET_HIGHPASS_PEAK, 0)\n\nconst modulationGenerator = getSetter(\n  ActionType.SET_HIGHPASS_MODULATOR_MODULATION_GENERATOR,\n  0\n)\n\nconst envelopeGenerator = getSetter(\n  ActionType.SET_HIGHPASS_MODULATOR_ENVELOPE_GENERATOR,\n  0\n)\n\nconst modulator = combineReducers({\n  modulationGenerator,\n  envelopeGenerator\n})\n\nexport default combineReducers({\n  cutoff,\n  peak,\n  modulator\n})\n","import { combineReducers } from 'redux'\nimport { ActionType } from '../types/actions'\nimport { getSetter } from './common'\n\nconst cutoff = getSetter(ActionType.SET_LOWPASS_CUTOFF, 1)\n\nconst peak = getSetter(ActionType.SET_LOWPASS_PEAK, 0)\n\nconst modulationGenerator = getSetter(\n  ActionType.SET_LOWPASS_MODULATOR_MODULATION_GENERATOR,\n  0\n)\n\nconst envelopeGenerator = getSetter(\n  ActionType.SET_LOWPASS_MODULATOR_ENVELOPE_GENERATOR,\n  0\n)\n\nconst modulator = combineReducers({\n  modulationGenerator,\n  envelopeGenerator\n})\n\nexport default combineReducers({\n  cutoff,\n  peak,\n  modulator\n})\n","import { getSetter } from './common'\nimport { ActionType } from '../types/actions'\nimport { combineReducers } from 'redux'\n\nconst waveForm = getSetter(ActionType.SET_MODULATION_GENERATOR_WAVE_FORM, 0.5)\n\nconst frequency = getSetter(ActionType.SET_MODULATION_GENERATOR_FREQUENCY, 5)\n\nexport default combineReducers({\n  waveForm,\n  frequency\n})\n","import { combineReducers } from 'redux'\nimport { getSetter } from './common'\nimport { ActionType } from '../types/actions'\n\nconst delay = getSetter(ActionType.SET_ENVELOPE_GENERATOR_1_DELAY, 0)\n\nconst attack = getSetter(ActionType.SET_ENVELOPE_GENERATOR_1_ATTACK, 0)\n\nconst release = getSetter(ActionType.SET_ENVELOPE_GENERATOR_1_RELEASE, 0)\n\nexport default combineReducers({\n  delay,\n  attack,\n  release\n})\n","import { combineReducers } from 'redux'\nimport { ActionType } from '../types/actions'\nimport { getSetter } from './common'\n\nconst hold = getSetter(ActionType.SET_ENVELOPE_GENERATOR_2_HOLD, 0)\n\nconst attack = getSetter(ActionType.SET_ENVELOPE_GENERATOR_2_ATTACK, 0)\n\nconst decay = getSetter(ActionType.SET_ENVELOPE_GENERATOR_2_DECAY, 0)\n\nconst sustain = getSetter(ActionType.SET_ENVELOPE_GENERATOR_2_SUSTAIN, 1)\n\nconst release = getSetter(ActionType.SET_ENVELOPE_GENERATOR_2_RELEASE, 0)\n\nexport default combineReducers({\n  hold,\n  attack,\n  decay,\n  sustain,\n  release\n})\n","import { ActionType, Action } from '../types/actions'\nimport { KeyboardState } from '../types/state'\n\nconst defaultKeyboardState: KeyboardState = {\n  octaves: 3,\n  keys: [...Array(37)].fill(false),\n  bassNote: 60\n}\n\nconst keyboardReducer = (state = defaultKeyboardState, action: Action) => {\n  switch (action.type) {\n    case ActionType.SET_KEYBOARD_OCTAVES:\n      return {\n        ...state,\n        octaves: action.payload,\n        keys: [...Array(action.payload * 12 + 1)].fill(false)\n      }\n    case ActionType.SET_KEY_DOWN:\n    case ActionType.SET_KEY_UP:\n      const target = action.type === ActionType.SET_KEY_DOWN\n      const idx = action.payload - state.bassNote\n      if (state.keys[idx] !== target) {\n        const keys = [...state.keys]\n        keys[idx] = target\n        return { ...state, keys }\n      }\n      return state\n    case ActionType.SET_KEYBOARD_BASS_NOTE:\n      return {\n        ...state,\n        bassNote: action.payload\n      }\n    default:\n      return state\n  }\n}\n\nexport default keyboardReducer\n","import { ActionType } from '../types/actions'\nimport { combineReducers } from 'redux'\nimport { getSetter } from './common'\n\nimport vco1 from './vco1'\nimport vco2 from './vco2'\nimport vcoMixer from './vcoMixer'\nimport frequencyModulator from './frequencyModulator'\nimport highpass from './highpass'\nimport lowpass from './lowpass'\nimport modulationGenerator from './modulationGenerator'\nimport envelopeGenerator1 from './envelopeGenerator1'\nimport envelopeGenerator2 from './envelopeGenerator2'\nimport keyboard from './keyboard'\n\nconst volume = getSetter(ActionType.SET_VOLUME, 0.2)\n\nconst portamento = getSetter(ActionType.SET_PORTAMENTO, 0)\n\nconst masterTune = getSetter(ActionType.SET_MASTER_TUNE, 0)\n\nexport default combineReducers({\n  volume,\n  vco1,\n  vco2,\n  vcoMixer,\n  portamento,\n  masterTune,\n  frequencyModulator,\n  highpass,\n  lowpass,\n  modulationGenerator,\n  envelopeGenerator1,\n  envelopeGenerator2,\n  keyboard\n})\n","import { createStore, Store } from 'redux'\nimport { persistReducer, persistStore } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage'\nimport rootReducer from './reducers'\nimport { RootState } from './types/state'\n\nconst reducer = persistReducer(\n  {\n    key: 'web-synth',\n    storage,\n    blacklist: ['volume', 'keyboard']\n  },\n  rootReducer\n)\n\nexport const store = createStore(reducer)\n\nexport const persistor = persistStore((store as unknown) as Store)\n\nexport const observeStore = function<T>(\n  select: (state: RootState) => T,\n  onChange: (newValue: T) => void\n) {\n  let currentState: T\n\n  const handleChange = () => {\n    const newState = select(store.getState())\n    if (newState !== currentState) {\n      currentState = newState\n      onChange(currentState)\n    }\n  }\n\n  const unsubscribe = store.subscribe(handleChange)\n  handleChange()\n  return unsubscribe\n}\n\nexport default store\n","import { RootState } from '../../state/types/state'\n\nexport type Selectors<T> = {\n  [P in keyof T]: (state: RootState) => T[P]\n}\n\nexport class ParamaterError extends Error {\n  constructor() {\n    super('Incorrect parameters on custom processor')\n  }\n}\n","import { ParamaterError } from './common'\n\nexport default class PulseOscillatorNode extends AudioWorkletNode {\n  pulseWidth: AudioParam\n  frequency: AudioParam\n\n  constructor(context: AudioContext) {\n    super(context, 'pulse-processor')\n\n    const pulseWidth = this.parameters.get('pulseWidth')\n    const frequency = this.parameters.get('frequency')\n\n    if (pulseWidth === undefined || frequency === undefined) {\n      throw new ParamaterError()\n    }\n\n    this.pulseWidth = pulseWidth\n    this.frequency = frequency\n  }\n}\n","import { observeStore } from '../../state/store'\nimport { Selectors } from './common'\nimport { VCO1WaveShape } from '../../state/types/state'\nimport PulseOscillatorNode from './PulseOscillatorNode'\n\nexport default class VCO1Node extends GainNode {\n  frequency: AudioParam\n  pulse: AudioNode\n\n  constructor(\n    context: AudioContext,\n    selectors: Selectors<{\n      waveShape: VCO1WaveShape\n      pulseWidth: number\n      scale: number\n    }> = {\n      waveShape: state => state.vco1.waveShape,\n      pulseWidth: state => state.vco1.pulseWidth,\n      scale: state => state.vco1.scale\n    }\n  ) {\n    super(context)\n\n    const triangle = context.createOscillator()\n    const saw = context.createOscillator()\n    const pulse = new PulseOscillatorNode(context)\n    const noise = new AudioWorkletNode(context, 'white-noise-processor')\n    const frequency = context.createConstantSource()\n    const scale = context.createGain()\n\n    const triangleLevel = context.createGain()\n    const sawLevel = context.createGain()\n    const pulseLevel = context.createGain()\n    const noiseLevel = context.createGain()\n\n    this.frequency = frequency.offset\n    this.pulse = pulse\n\n    frequency.offset.value = 0\n    triangle.type = 'triangle'\n    triangle.frequency.value = 0\n    saw.type = 'sawtooth'\n    saw.frequency.value = 0\n\n    frequency.connect(scale)\n\n    scale.connect(triangle.frequency)\n    scale.connect(saw.frequency)\n    scale.connect(pulse.frequency)\n\n    triangle.connect(triangleLevel).connect(this)\n    saw.connect(sawLevel).connect(this)\n    pulse.connect(pulseLevel).connect(this)\n    noise.connect(noiseLevel).connect(this)\n\n    triangle.start()\n    saw.start()\n    frequency.start()\n\n    observeStore(selectors.waveShape, shape => {\n      triangleLevel.gain.value = shape === VCO1WaveShape.TRIANGLE ? 1 : 0\n      sawLevel.gain.value = shape === VCO1WaveShape.SAWTOOTH ? 1 : 0\n      pulseLevel.gain.value = shape === VCO1WaveShape.SQUARE ? 1 : 0\n      noiseLevel.gain.value = shape === VCO1WaveShape.NOISE ? 1 : 0\n    })\n\n    observeStore(selectors.pulseWidth, pw => {\n      pulse.pulseWidth.value = pw\n    })\n\n    observeStore(selectors.scale, octave => {\n      scale.gain.value = Math.pow(2, octave)\n    })\n  }\n}\n","export default class RingOscillatorNode extends AudioWorkletNode {\n  constructor(context: AudioContext) {\n    super(context, 'xor-processor', { numberOfInputs: 2 })\n  }\n}\n","import { observeStore } from '../../state/store'\nimport { Selectors } from './common'\nimport { VCO2WaveShape } from '../../state/types/state'\nimport PulseOscillatorNode from './PulseOscillatorNode'\nimport RingOscillatorNode from './RingOscillatorNode'\n\nexport default class VCO2Node extends GainNode {\n  frequency: AudioParam\n  ring: AudioNode\n\n  constructor(\n    context: AudioContext,\n    selectors: Selectors<{\n      waveShape: VCO2WaveShape\n      pitch: number\n      scale: number\n    }> = {\n      waveShape: state => state.vco2.waveShape,\n      pitch: state => state.vco2.pitch,\n      scale: state => state.vco2.scale\n    }\n  ) {\n    super(context)\n\n    const saw = context.createOscillator()\n    const square = new PulseOscillatorNode(context)\n    const pulse = new PulseOscillatorNode(context)\n    const ring = new RingOscillatorNode(context)\n    const frequency = context.createConstantSource()\n    const pitch = context.createGain()\n    const scale = context.createGain()\n\n    const sawLevel = context.createGain()\n    const squareLevel = context.createGain()\n    const pulseLevel = context.createGain()\n    const ringLevel = context.createGain()\n\n    this.frequency = frequency.offset\n    this.ring = ring\n\n    frequency.offset.value = 0\n    saw.type = 'sawtooth'\n    saw.frequency.value = 0\n    square.pulseWidth.value = 0.5\n    square.frequency.value = 0\n    pulse.pulseWidth.value = 0.75\n    pulse.frequency.value = 0\n\n    frequency.connect(pitch).connect(scale)\n\n    scale.connect(saw.frequency)\n    scale.connect(square.frequency)\n    scale.connect(pulse.frequency)\n\n    square.connect(ring, 0, 1)\n\n    saw.connect(sawLevel).connect(this)\n    square.connect(squareLevel).connect(this)\n    pulse.connect(pulseLevel).connect(this)\n    ring.connect(ringLevel).connect(this)\n\n    saw.start()\n    frequency.start()\n\n    observeStore(selectors.waveShape, shape => {\n      sawLevel.gain.value = shape === VCO2WaveShape.SAWTOOTH ? 1 : 0\n      squareLevel.gain.value = shape === VCO2WaveShape.SQUARE ? 1 : 0\n      pulseLevel.gain.value = shape === VCO2WaveShape.PULSE ? 1 : 0\n      ringLevel.gain.value = shape === VCO2WaveShape.RING ? 1 : 0\n    })\n    observeStore(selectors.pitch, value => {\n      pitch.gain.value = Math.pow(2, value)\n    })\n    observeStore(selectors.scale, octave => {\n      scale.gain.value = Math.pow(2, octave)\n    })\n  }\n}\n","import { observeStore } from '../../state/store'\nimport { Selectors } from './common'\n\nexport default class VolumeNode extends GainNode {\n  constructor(\n    context: AudioContext,\n    selectors: Selectors<{ volume: number }> = {\n      volume: state => state.volume\n    }\n  ) {\n    super(context)\n\n    observeStore(selectors.volume, volume => {\n      this.gain.value = volume\n    })\n  }\n}\n","import { Selectors } from './common'\nimport VolumeNode from './VolumeNode'\n\nexport default class VCOMixerNode extends GainNode {\n  vco1in: GainNode\n  vco2in: GainNode\n\n  constructor(\n    context: AudioContext,\n    selectors: Selectors<{ vco1Level: number; vco2Level: number }> = {\n      vco1Level: state => state.vcoMixer.vco1Level,\n      vco2Level: state => state.vcoMixer.vco2Level\n    }\n  ) {\n    super(context)\n    this.vco1in = new VolumeNode(context, { volume: selectors.vco1Level })\n    this.vco2in = new VolumeNode(context, { volume: selectors.vco2Level })\n\n    this.vco1in.connect(this)\n    this.vco2in.connect(this)\n  }\n}\n","export default window.AudioContext || window.webkitAudioContext\n","import { observeStore } from '../../state/store'\nimport { Selectors } from './common'\n\n/**\n * This node adds an offset to the incoming control frequency.\n */\nexport default class MasterTuneNode extends GainNode {\n  constructor(\n    context: AudioContext,\n    selectors: Selectors<{ masterTune: number }> = {\n      masterTune: state => state.masterTune\n    }\n  ) {\n    super(context)\n\n    observeStore(selectors.masterTune, tune => {\n      this.gain.value = Math.pow(2, tune)\n    })\n  }\n}\n","import { observeStore } from '../../state/store'\nimport { Selectors, ParamaterError } from './common'\n\n/**\n * This node adds a lowpass filter on the control frequency, effectively adding\n * a ramp/ slide effect when the notes change.\n */\nexport default class PortamentoNode extends AudioWorkletNode {\n  time: AudioParam\n\n  constructor(\n    context: AudioContext,\n    selectors: Selectors<{ portamento: number }> = {\n      portamento: state => state.portamento\n    }\n  ) {\n    super(context, 'portamento-processor')\n\n    const time = this.parameters.get('time')\n\n    if (time === undefined) {\n      throw new ParamaterError()\n    }\n\n    this.time = time\n\n    observeStore(selectors.portamento, portamento => {\n      portamento *= 0.8\n      portamento += 0.1\n      const slope = 5000\n      this.time.value = 1 - (Math.pow(slope + 1, 1 - portamento) - 1) / slope\n    })\n  }\n}\n","import { observeStore } from '../../state/store'\nimport { Selectors } from './common'\n\nexport default class FrequencyModulatorNode extends GainNode {\n  modulationGenerator: GainNode\n  envelopeGenerator: GainNode\n\n  constructor(\n    context: AudioContext,\n    selectors: Selectors<{\n      modulationGenerator: number\n      envelopeGenerator: number\n    }> = {\n      modulationGenerator: state =>\n        state.frequencyModulator.modulationGenerator,\n      envelopeGenerator: state => state.frequencyModulator.envelopeGenerator\n    }\n  ) {\n    super(context)\n    this.gain.value = 0\n\n    // the envelope in will be in the range 0 to 1, we want to change it so that\n    // it is in the range 0 to level where level is the setting for EG.\n    this.envelopeGenerator = context.createGain()\n    // the modulation generator will be in the range -1 to 1\n    this.modulationGenerator = context.createGain()\n\n    // we then want to offset the incoming values\n    const egOffset = context.createConstantSource()\n    const mgOffset = context.createConstantSource()\n    mgOffset.offset.value = 1\n    egOffset.start()\n    mgOffset.start()\n\n    // we then want to multiply the values together and apply that to the\n    // incoming signal\n    const multiplier = context.createGain()\n    multiplier.gain.value = 0\n\n    this.modulationGenerator.connect(multiplier)\n    mgOffset.connect(multiplier)\n\n    this.envelopeGenerator.connect(multiplier.gain)\n    egOffset.connect(multiplier.gain)\n\n    multiplier.connect(this.gain)\n\n    observeStore(selectors.modulationGenerator, level => {\n      this.modulationGenerator.gain.value = level\n    })\n\n    observeStore(selectors.envelopeGenerator, level => {\n      this.envelopeGenerator.gain.value = level\n      egOffset.offset.value = 1 - level\n    })\n  }\n}\n","import { observeStore } from '../../state/store'\nimport FrequencyModulatorNode from './FrequencyModulatorNode'\nimport { Selectors } from './common'\n\nexport default class HighpassNode extends BiquadFilterNode {\n  cutoff: FrequencyModulatorNode\n\n  constructor(\n    context: AudioContext,\n    selectors: Selectors<{\n      cutoff: number\n      peak: number\n      modulationGenerator: number\n      envelopeGenerator: number\n    }> = {\n      cutoff: state => state.highpass.cutoff,\n      peak: state => state.highpass.peak,\n      modulationGenerator: state =>\n        state.highpass.modulator.modulationGenerator,\n      envelopeGenerator: state => state.highpass.modulator.envelopeGenerator\n    }\n  ) {\n    super(context)\n\n    this.type = 'highpass'\n    this.frequency.value = 0\n\n    this.cutoff = new FrequencyModulatorNode(context, {\n      modulationGenerator: selectors.modulationGenerator,\n      envelopeGenerator: selectors.envelopeGenerator\n    })\n\n    const frequencyIn = context.createConstantSource()\n    frequencyIn.start()\n\n    frequencyIn.connect(this.cutoff).connect(this.frequency)\n\n    observeStore(selectors.cutoff, cutoff => {\n      const level = 1 - (1 - cutoff) * (1 - cutoff)\n      const min = 100\n      const max = 15000\n\n      // a logarithmic curve\n      frequencyIn.offset.value = Math.pow(max - min + 1, level) + min - 1\n    })\n\n    observeStore(selectors.peak, peak => {\n      const min = 0\n      const max = 40\n\n      this.Q.value = Math.pow(max - min + 1, peak) + min - 1\n    })\n  }\n}\n","import { observeStore } from '../../state/store'\nimport FrequencyModulatorNode from './FrequencyModulatorNode'\nimport { Selectors } from './common'\n\nexport default class LowpassNode extends BiquadFilterNode {\n  cutoff: FrequencyModulatorNode\n\n  constructor(\n    context: AudioContext,\n    selectors: Selectors<{\n      cutoff: number\n      peak: number\n      modulationGenerator: number\n      envelopeGenerator: number\n    }> = {\n      cutoff: state => state.lowpass.cutoff,\n      peak: state => state.lowpass.peak,\n      modulationGenerator: state => state.lowpass.modulator.modulationGenerator,\n      envelopeGenerator: state => state.lowpass.modulator.envelopeGenerator\n    }\n  ) {\n    super(context)\n\n    this.type = 'lowpass'\n    this.frequency.value = 0\n\n    this.cutoff = new FrequencyModulatorNode(context, {\n      modulationGenerator: selectors.modulationGenerator,\n      envelopeGenerator: selectors.envelopeGenerator\n    })\n\n    const frequencyIn = context.createConstantSource()\n    frequencyIn.start()\n    frequencyIn.connect(this.cutoff).connect(this.frequency)\n\n    observeStore(selectors.cutoff, cutoff => {\n      const level = 1 - (1 - cutoff) * (1 - cutoff)\n      const min = 100\n      const max = 15000\n\n      // a logarithmic curve\n      frequencyIn.offset.value = Math.pow(max - min + 1, level) + min - 1\n    })\n\n    observeStore(selectors.peak, peak => {\n      const min = 0\n      const max = 40\n\n      this.Q.value = Math.pow(max - min + 1, peak) + min - 1\n    })\n  }\n}\n","import { observeStore } from '../../state/store'\nimport { Selectors, ParamaterError } from './common'\n\nexport default class ModulationGeneratorNode extends AudioWorkletNode {\n  waveForm: AudioParam\n  frequency: AudioParam\n\n  constructor(\n    context: AudioContext,\n    selectors: Selectors<{ waveForm: number; frequency: number }> = {\n      waveForm: state => state.modulationGenerator.waveForm,\n      frequency: state => state.modulationGenerator.frequency\n    }\n  ) {\n    super(context, 'modulation-generator-processor', { numberOfOutputs: 2 })\n\n    const waveForm = this.parameters.get('waveForm')\n    const frequency = this.parameters.get('frequency')\n\n    if (waveForm === undefined || frequency === undefined) {\n      throw new ParamaterError()\n    }\n\n    this.waveForm = waveForm\n    this.frequency = frequency\n\n    observeStore(selectors.waveForm, waveForm => {\n      this.waveForm.value = waveForm\n    })\n\n    observeStore(selectors.frequency, frequency => {\n      this.frequency.value = frequency\n    })\n  }\n}\n","export default [...Array(12)].map((_, i) => Math.pow(2, i / 12))\n","import React from 'react'\nimport howToKnob from './how-to-knob.gif'\nimport './style.scss'\n\nconst isMobile = ((toCheck: string) => {\n  return (\n    /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(\n      toCheck\n    ) ||\n    /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(\n      toCheck.substr(0, 4)\n    )\n  )\n  // return (\n  //   /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(\n  //     toCheck\n  //   ) ||\n  //   /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(\n  //     toCheck.substr(0, 4)\n  //   )\n  // )\n})(navigator.userAgent || navigator.vendor)\n\nconst Landing: React.FC<{ handleStart: () => void }> = ({ handleStart }) => {\n  return (\n    <div className=\"Landing\">\n      <div className=\"body\">\n        <h1>Web Synth</h1>\n        {isMobile ? (\n          <>\n            <p>\n              We are sorry to inform you that this web-app is only available for\n              desktop use.\n            </p>\n            <p>\n              Please use a desktop web browser to fully experience Web Synth.\n            </p>\n          </>\n        ) : (\n          <>\n            <p>\n              Welcome to Web Synth. This is a lightweight implementation of the{' '}\n              <span className=\"disclaimer\" title=\"Only the default patch\">\n                Korg MS20\n              </span>\n              . You can turn the knobs by clicking and holding on them, and\n              dragging up or down like so.\n            </p>\n            <img width={198} height={201} alt=\"A knob in use\" src={howToKnob} />\n            <br />\n            <button className=\"startButton\" onClick={handleStart}>\n              Start\n            </button>\n          </>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default Landing\n","import { TwelveTone, Key, fiveLimit } from '../../tuning'\nimport equalTemper from '../../tuning/references/equal-temper'\nimport { observeStore } from '../../state/store'\n\nexport default class KeyboardNode {\n  /** The control frequency of the keyboard */\n  frequency: ConstantSourceNode\n  /** The trigger out of the keyboard: 1 when key is pressed and 0 otherwise. */\n  trigger: ConstantSourceNode\n  /** The lowest note the keyboard will play */\n  bassNote: number\n\n  constructor(context: AudioContext) {\n    this.frequency = context.createConstantSource()\n    this.trigger = context.createConstantSource()\n    this.bassNote = 0\n\n    this.frequency.start()\n    this.trigger.start()\n\n    // // this scale is just tunung in the key of C\n    // const scale = new TwelveTone(450, fiveLimit, Key.C)\n    const scale = new TwelveTone(440, equalTemper)\n\n    observeStore(\n      state => state.keyboard.bassNote,\n      bassNote => {\n        this.bassNote = bassNote\n      }\n    )\n\n    observeStore(\n      state => state.keyboard.keys,\n      keys => {\n        const target = keys.indexOf(true)\n\n        if (target >= 0) {\n          const targetFreq = scale.getNote(this.bassNote + target)\n          this.frequency.offset.value = targetFreq\n          this.trigger.offset.value = 1\n        } else {\n          this.trigger.offset.value = 0\n        }\n      }\n    )\n  }\n}\n","import { observeStore } from '../../state/store'\nimport { Selectors, ParamaterError } from './common'\n\nexport default class DAREnvelopeNode extends AudioWorkletNode {\n  delay: AudioParam\n  attack: AudioParam\n  release: AudioParam\n\n  constructor(\n    context: AudioContext,\n    selectors: Selectors<{ delay: number; attack: number; release: number }> = {\n      delay: state => state.envelopeGenerator1.delay,\n      attack: state => state.envelopeGenerator1.attack,\n      release: state => state.envelopeGenerator1.release\n    }\n  ) {\n    super(context, 'dar-envelope-processor')\n\n    const delay = this.parameters.get('delay')\n    const attack = this.parameters.get('attack')\n    const release = this.parameters.get('release')\n\n    if (delay === undefined || attack === undefined || release === undefined) {\n      throw new ParamaterError()\n    }\n\n    this.delay = delay\n    this.attack = attack\n    this.release = release\n\n    observeStore(selectors.delay, delay => {\n      this.delay.value = delay\n    })\n    observeStore(selectors.attack, attack => {\n      this.attack.value = attack\n    })\n    observeStore(selectors.release, release => {\n      this.release.value = release\n    })\n  }\n}\n","import { observeStore } from '../../state/store'\nimport { Selectors, ParamaterError } from './common'\n\nexport default class HADSREnvelopeNode extends AudioWorkletNode {\n  hold: AudioParam\n  attack: AudioParam\n  decay: AudioParam\n  sustain: AudioParam\n  release: AudioParam\n\n  constructor(\n    context: AudioContext,\n    selectors: Selectors<{\n      hold: number\n      attack: number\n      decay: number\n      sustain: number\n      release: number\n    }> = {\n      hold: state => state.envelopeGenerator2.hold,\n      attack: state => state.envelopeGenerator2.attack,\n      decay: state => state.envelopeGenerator2.decay,\n      sustain: state => state.envelopeGenerator2.sustain,\n      release: state => state.envelopeGenerator2.release\n    }\n  ) {\n    super(context, 'hadsr-envelope-processor')\n\n    const hold = this.parameters.get('hold')\n    const attack = this.parameters.get('attack')\n    const decay = this.parameters.get('decay')\n    const sustain = this.parameters.get('sustain')\n    const release = this.parameters.get('release')\n\n    if (\n      hold === undefined ||\n      attack === undefined ||\n      decay === undefined ||\n      sustain === undefined ||\n      release === undefined\n    ) {\n      throw new ParamaterError()\n    }\n\n    this.hold = hold\n    this.attack = attack\n    this.decay = decay\n    this.sustain = sustain\n    this.release = release\n\n    observeStore(selectors.hold, time => {\n      this.hold.value = time\n    })\n    observeStore(selectors.attack, time => {\n      this.attack.value = time\n    })\n    observeStore(selectors.decay, time => {\n      this.decay.value = time\n    })\n    observeStore(selectors.sustain, level => {\n      this.sustain.value = level\n    })\n    observeStore(selectors.release, time => {\n      this.release.value = time\n    })\n  }\n}\n","import VCO1Node from './custom-nodes/VCO1Node'\nimport VCO2Node from './custom-nodes/VCO2Node'\nimport VCOMixerNode from './custom-nodes/VCOMixerNode'\nimport VolumeNode from './custom-nodes/VolumeNode'\nimport AudioContext from './audioContext'\nimport MasterTuneNode from './custom-nodes/MasterTuneNode'\nimport PortamentoNode from './custom-nodes/PortamentoNode'\nimport HighpassNode from './custom-nodes/HighpassNode'\nimport LowpassNode from './custom-nodes/LowpassNode'\nimport ModulationGeneratorNode from './custom-nodes/ModulationGeneratorNode'\nimport FrequencyModulatorNode from './custom-nodes/FrequencyModulatorNode'\nimport KeyboardNode from './custom-nodes/KeyboardNode'\nimport DAREnvelopeNode from './custom-nodes/DAREnvelopeNode'\nimport HADSREnvelopeNode from './custom-nodes/HADSREnvelopeNode'\n\n// loads the external worklet processors and sets up the default patch.\nconst init = async () => {\n  const context = new AudioContext()\n  await context.resume()\n  if (context.state !== 'running') {\n    throw new Error('The audio context failed to start.')\n  }\n\n  // the site is not hosted at the root\n  if (process.env.NODE_ENV === 'development') {\n    await context.audioWorklet.addModule('web-synth/audio-processors.js')\n  } else {\n    await context.audioWorklet.addModule('audio-processors.js')\n  }\n\n  // instantiate each of the modules\n  const keyboard = new KeyboardNode(context)\n  const masterTune = new MasterTuneNode(context)\n  const portamento = new PortamentoNode(context)\n  const modulationGenerator = new ModulationGeneratorNode(context)\n  const envelopeGenerator1 = new DAREnvelopeNode(context)\n  const envelopeGenerator2 = new HADSREnvelopeNode(context)\n  const frequencyModulator = new FrequencyModulatorNode(context)\n  const vco1 = new VCO1Node(context)\n  const vco2 = new VCO2Node(context)\n  const vcoMixer = new VCOMixerNode(context)\n  const highpass = new HighpassNode(context)\n  const lowpass = new LowpassNode(context)\n  const volume = new VolumeNode(context)\n  const vca = context.createGain()\n  vca.gain.value = 0\n\n  // initialise the default patch\n\n  // the keyboard triggers both envelopes\n  keyboard.trigger.connect(envelopeGenerator1)\n  keyboard.trigger.connect(envelopeGenerator2)\n\n  // the keyboard frequency gets tuned and ported.\n  keyboard.frequency.connect(portamento).connect(masterTune)\n\n  // the frequency then gets modulated\n  masterTune.connect(frequencyModulator)\n\n  // there are two sources for modulation:\n  // the modulation generator (a low frequency oscillator); and,\n  modulationGenerator.connect(frequencyModulator.modulationGenerator)\n  // the first envelope generator.\n  envelopeGenerator1.connect(frequencyModulator.envelopeGenerator)\n  frequencyModulator.connect(vco1.frequency)\n  frequencyModulator.connect(vco2.frequency)\n\n  // the cutoff for both filters is also frequency modulated.\n  modulationGenerator.connect(highpass.cutoff.modulationGenerator)\n  modulationGenerator.connect(lowpass.cutoff.modulationGenerator)\n  envelopeGenerator2.connect(highpass.cutoff.envelopeGenerator)\n  envelopeGenerator2.connect(lowpass.cutoff.envelopeGenerator)\n\n  vco1.pulse.connect(vco2.ring)\n\n  vco1.connect(vcoMixer.vco1in)\n  vco2.connect(vcoMixer.vco2in)\n\n  envelopeGenerator2.connect(vca.gain)\n\n  vcoMixer\n    .connect(highpass)\n    .connect(lowpass)\n    .connect(vca)\n    .connect(volume)\n    .connect(context.destination)\n}\n\nexport default init\n","import { connect, MapDispatchToProps } from 'react-redux'\nimport initEngine from '../../../engine'\nimport Landing from '../../components/Landing/Landing'\n\nconst mapDispatchToProps: MapDispatchToProps<\n  {\n    handleStart: () => void\n  },\n  {\n    onInitialise: () => void\n  }\n> = (dispatch, { onInitialise }) => ({\n  handleStart: () => {\n    // Initialise the engine then bubble up.\n    initEngine().then(() => {\n      onInitialise()\n    })\n  }\n})\n\nexport default connect(undefined, mapDispatchToProps)(Landing)\n","import React, { useState } from 'react'\nimport './style.scss'\n\nimport VCO1 from './containers/VCO1'\nimport VCO2 from './containers/VCO2'\nimport Volume from './containers/Volume'\nimport VCOMixer from './containers/VCOMixer'\nimport Portamento from './containers/Portamento'\nimport MasterTune from './containers/MasterTune'\nimport FrequencyModulator from './containers/FrequencyModulator'\nimport Highpass from './containers/Highpass'\nimport Lowpass from './containers/Lowpass'\nimport ModulationGenerator from './containers/ModulationGenerator'\nimport EnvelopeGenerator1 from './containers/EnvelopeGenerator1'\nimport EnvelopeGenerator2 from './containers/EnvelopeGenerator2'\nimport SynthKeys from './containers/SynthKeys'\nimport Initialise from './containers/Initialise/Initialise'\n\nexport default function App() {\n  const [initialised, setInitialised] = useState(false)\n\n  return (\n    <div className=\"App\">\n      {!initialised && <Initialise onInitialise={() => setInitialised(true)} />}\n      <div className=\"keyboardDock\">\n        <SynthKeys />\n      </div>\n      <VCO1 />\n      <VCO2 />\n      <VCOMixer />\n      <Volume />\n      <Highpass />\n      <Lowpass />\n      <Portamento />\n      <MasterTune />\n      <FrequencyModulator />\n      <ModulationGenerator />\n      <EnvelopeGenerator1 />\n      <EnvelopeGenerator2 />\n    </div>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './ui'\nimport { Provider } from 'react-redux'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport { store, persistor } from './state/store'\nimport './index.css'\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate persistor={persistor}>\n      <App />\n    </PersistGate>\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}